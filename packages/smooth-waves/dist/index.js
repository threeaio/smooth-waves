'use strict';var react=require('react'),math=require('@threeaio/utils/math'),jsxRuntime=require('react/jsx-runtime');var kt=Object.defineProperty,Dt=Object.defineProperties;var Ht=Object.getOwnPropertyDescriptors;var Z=Object.getOwnPropertySymbols;var Pe=Object.prototype.hasOwnProperty,Ve=Object.prototype.propertyIsEnumerable;var ze=(e,t,r)=>t in e?kt(e,t,{enumerable:true,configurable:true,writable:true,value:r}):e[t]=r,x=(e,t)=>{for(var r in t||(t={}))Pe.call(t,r)&&ze(e,r,t[r]);if(Z)for(var r of Z(t))Ve.call(t,r)&&ze(e,r,t[r]);return e},S=(e,t)=>Dt(e,Ht(t));var V=(e,t)=>{var r={};for(var o in e)Pe.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&Z)for(var o of Z(e))t.indexOf(o)<0&&Ve.call(e,o)&&(r[o]=e[o]);return r};function We(e){let t=react.useRef(null);return t.current===null&&(t.current=e()),t.current}var Fe=react.createContext({transformPagePoint:e=>e,isStatic:false,reducedMotion:"never"});var Le=typeof window!="undefined";var Ne=Le?react.useLayoutEffect:react.useEffect;var y=e=>e;var z=y,he=y;process.env.NODE_ENV!=="production"&&(z=(e,t)=>{!e&&typeof console!="undefined"&&console.warn(t);},he=(e,t)=>{if(!e)throw new Error(t)});var D={useManualTiming:false};var H=["read","resolveKeyframes","update","preRender","render","postRender"];function Be(e,t){let r=new Set,o=new Set,n=false,s=false,i=new WeakSet,a={delta:0,timestamp:0,isProcessing:false};function m(l){i.has(l)&&(c.schedule(l),e()),l(a);}let c={schedule:(l,d=false,p=false)=>{let v=p&&n?r:o;return d&&i.add(l),v.has(l)||v.add(l),l},cancel:l=>{o.delete(l),i.delete(l);},process:l=>{if(a=l,n){s=true;return}n=true,[r,o]=[o,r],r.forEach(m),r.clear(),n=false,s&&(s=false,c.process(l));}};return c}var qt=40;function ke(e,t){let r=false,o=true,n={delta:0,timestamp:0,isProcessing:false},s=()=>r=true,i=H.reduce((h,b)=>(h[b]=Be(s),h),{}),{read:a,resolveKeyframes:f,update:m,preRender:c,render:l,postRender:d}=i,p=()=>{let h=performance.now();r=false,(n.delta=o?1e3/60:Math.max(Math.min(h-n.timestamp,qt),1)),n.timestamp=h,n.isProcessing=true,a.process(n),f.process(n),m.process(n),c.process(n),l.process(n),d.process(n),n.isProcessing=false,r&&t&&(o=false,e(p));},u=()=>{r=true,o=true,n.isProcessing||e(p);};return {schedule:H.reduce((h,b)=>{let I=i[b];return h[b]=(R,X=false,k=false)=>(r||u(),I.schedule(R,X,k)),h},{}),cancel:h=>{for(let b=0;b<H.length;b++)i[H[b]].cancel(h);},state:n,steps:i}}var{schedule:w,cancel:W,state:U}=ke(typeof requestAnimationFrame!="undefined"?requestAnimationFrame:y,true);var De=new Set;function J(e,t,r){e||De.has(t)||(console.warn(t),De.add(t));}var Kt=e=>t=>typeof t=="string"&&t.startsWith(e);var jt=Kt("var(--"),He=e=>jt(e)?Xt.test(e.split("/*")[0].trim()):false,Xt=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;var C=(e,t,r)=>r>t?t:r<e?e:r;var Q={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ee=S(x({},Q),{transform:e=>C(0,1,e)});S(x({},Q),{default:1});var Yt=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`});var F=Yt("%");S(x({},F),{parse:e=>F.parse(e)/100,transform:e=>F.transform(e*100)});var te;function Zt(){te=void 0;}var $={now:()=>(te===void 0&&$.set(U.isProcessing||D.useManualTiming?U.timestamp:performance.now()),te),set:e=>{te=e,queueMicrotask(Zt);}};function Ue(e,t){e.indexOf(t)===-1&&e.push(t);}function $e(e,t){let r=e.indexOf(t);r>-1&&e.splice(r,1);}var re=class{constructor(){this.subscriptions=[];}add(t){return Ue(this.subscriptions,t),()=>$e(this.subscriptions,t)}notify(t,r,o){let n=this.subscriptions.length;if(n)if(n===1)this.subscriptions[0](t,r,o);else for(let s=0;s<n;s++){let i=this.subscriptions[s];i&&i(t,r,o);}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0;}};function oe(e,t){return t?e*(1e3/t):0}var _e=30,Jt=e=>!isNaN(parseFloat(e)),ge=class{constructor(t,r={}){this.version="12.4.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(o,n=true)=>{let s=$.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(o),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),n&&this.events.renderRequest&&this.events.renderRequest.notify(this.current);},this.hasAnimated=false,this.setCurrent(t),this.owner=r.owner;}setCurrent(t){this.current=t,this.updatedAt=$.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Jt(this.current));}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt;}onChange(t){return process.env.NODE_ENV!=="production"&&J(false,'value.onChange(callback) is deprecated. Switch to value.on("change", callback).'),this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new re);let o=this.events[t].add(r);return t==="change"?()=>{o(),w.read(()=>{this.events.change.getSize()||this.stop();});}:o}clearListeners(){for(let t in this.events)this.events[t].clear();}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r;}set(t,r=true){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify);}setWithVelocity(t,r,o){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-o;}jump(t,r=true){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect();}get(){return this.current}getPrevious(){return this.prev}getVelocity(){let t=$.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>_e)return 0;let r=Math.min(this.updatedAt-this.prevUpdatedAt,_e);return oe(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=true,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify();}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation();})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation();}isAnimating(){return !!this.animation}clearAnimation(){delete this.animation;}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect();}};function _(e,t){return new ge(e,t)}function qe(e){let t;return ()=>(t===void 0&&(t=e()),t)}var Ke=qe(()=>window.ScrollTimeline!==void 0);var L=(e,t,r)=>{let o=t-e;return o===0?1:(r-e)/o};var je=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,Qt=1e-7,er=12;function tr(e,t,r,o,n){let s,i,a=0;do i=t+(r-t)/2,s=je(i,o,n)-e,s>0?r=i:t=i;while(Math.abs(s)>Qt&&++a<er);return i}function Xe(e,t,r,o){let n=s=>tr(s,0,1,e,r);return s=>s===0||s===1?s:je(n(s),t,o)}var T=e=>Math.round(e*1e5)/1e5;var ne=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Ye(e){return e==null}var Ze=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;var N=(e,t)=>r=>!!(typeof r=="string"&&Ze.test(r)&&r.startsWith(e)||t&&!Ye(r)&&Object.prototype.hasOwnProperty.call(r,t)),se=(e,t,r)=>o=>{if(typeof o!="string")return o;let[n,s,i,a]=o.match(ne);return {[e]:parseFloat(n),[t]:parseFloat(s),[r]:parseFloat(i),alpha:a!==void 0?parseFloat(a):1}};var rr=e=>C(0,255,e),be=S(x({},Q),{transform:e=>Math.round(rr(e))}),E={test:N("rgb","red"),parse:se("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:o=1})=>"rgba("+be.transform(e)+", "+be.transform(t)+", "+be.transform(r)+", "+T(ee.transform(o))+")"};function or(e){let t="",r="",o="",n="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),o=e.substring(5,7),n=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),o=e.substring(3,4),n=e.substring(4,5),t+=t,r+=r,o+=o,n+=n),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(o,16),alpha:n?parseInt(n,16)/255:1}}var G={test:N("#"),parse:or,transform:E.transform};var A={test:N("hsl","hue"),parse:se("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:o=1})=>"hsla("+Math.round(e)+", "+F.transform(T(t))+", "+F.transform(T(r))+", "+T(ee.transform(o))+")"};var P={test:e=>E.test(e)||G.test(e)||A.test(e),parse:e=>E.test(e)?E.parse(e):A.test(e)?A.parse(e):G.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?E.transform(e):A.transform(e)};var Je=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function nr(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(ne))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(Je))===null||r===void 0?void 0:r.length)||0)>0}var et="number",tt="color",sr="var",ir="var(",Qe="${}",ar=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function q(e){let t=e.toString(),r=[],o={color:[],number:[],var:[]},n=[],s=0,a=t.replace(ar,f=>(P.test(f)?(o.color.push(s),n.push(tt),r.push(P.parse(f))):f.startsWith(ir)?(o.var.push(s),n.push(sr),r.push(f)):(o.number.push(s),n.push(et),r.push(parseFloat(f))),++s,Qe)).split(Qe);return {values:r,split:a,indexes:o,types:n}}function rt(e){return q(e).values}function ot(e){let{split:t,types:r}=q(e),o=t.length;return n=>{let s="";for(let i=0;i<o;i++)if(s+=t[i],n[i]!==void 0){let a=r[i];a===et?s+=T(n[i]):a===tt?s+=P.transform(n[i]):s+=n[i];}return s}}var fr=e=>typeof e=="number"?0:e;function lr(e){let t=rt(e);return ot(e)(t.map(fr))}var nt={test:nr,parse:rt,createTransformer:ot,getAnimatableNone:lr};var O=(e,t,r)=>e+(t-e)*r;function ve(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function st({hue:e,saturation:t,lightness:r,alpha:o}){e/=360,t/=100,r/=100;let n=0,s=0,i=0;if(!t)n=s=i=r;else {let a=r<.5?r*(1+t):r+t-r*t,f=2*r-a;n=ve(f,a,e+1/3),s=ve(f,a,e),i=ve(f,a,e-1/3);}return {red:Math.round(n*255),green:Math.round(s*255),blue:Math.round(i*255),alpha:o}}function B(e,t){return r=>r>0?t:e}var ye=(e,t,r)=>{let o=e*e,n=r*(t*t-o)+o;return n<0?0:Math.sqrt(n)},mr=[G,E,A],cr=e=>mr.find(t=>t.test(e));function it(e){let t=cr(e);if(z(!!t,`'${e}' is not an animatable color. Use the equivalent color code instead.`),!t)return  false;let r=t.parse(e);return t===A&&(r=st(r)),r}var we=(e,t)=>{let r=it(e),o=it(t);if(!r||!o)return B(e,t);let n=x({},r);return s=>(n.red=ye(r.red,o.red,s),n.green=ye(r.green,o.green,s),n.blue=ye(r.blue,o.blue,s),n.alpha=O(r.alpha,o.alpha,s),E.transform(n))};var pr=(e,t)=>r=>t(e(r)),ie=(...e)=>e.reduce(pr);var ae=new Set(["none","hidden"]);function at(e,t){return ae.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function ur(e,t){return r=>O(e,t,r)}function fe(e){return typeof e=="number"?ur:typeof e=="string"?He(e)?B:P.test(e)?we:xr:Array.isArray(e)?ft:typeof e=="object"?P.test(e)?we:dr:B}function ft(e,t){let r=[...e],o=r.length,n=e.map((s,i)=>fe(s)(s,t[i]));return s=>{for(let i=0;i<o;i++)r[i]=n[i](s);return r}}function dr(e,t){let r=x(x({},e),t),o={};for(let n in r)e[n]!==void 0&&t[n]!==void 0&&(o[n]=fe(e[n])(e[n],t[n]));return n=>{for(let s in o)r[s]=o[s](n);return r}}function hr(e,t){var r;let o=[],n={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){let i=t.types[s],a=e.indexes[i][n[i]],f=(r=e.values[a])!==null&&r!==void 0?r:0;o[s]=f,n[i]++;}return o}var xr=(e,t)=>{let r=nt.createTransformer(t),o=q(e),n=q(t);return o.indexes.var.length===n.indexes.var.length&&o.indexes.color.length===n.indexes.color.length&&o.indexes.number.length>=n.indexes.number.length?ae.has(e)&&!n.values.length||ae.has(t)&&!o.values.length?at(e,t):ie(ft(hr(o,n),n.values),r):(z(true,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),B(e,t))};function lt(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?O(e,t,r):fe(e)(e,t)}var Ee=Xe(0,0,.58,1);function gr(e,t,r){let o=[],n=r||lt,s=e.length-1;for(let i=0;i<s;i++){let a=n(e[i],e[i+1]);if(t){let f=Array.isArray(t)?t[i]||y:t;a=ie(f,a);}o.push(a);}return o}function mt(e,t,{clamp:r=true,ease:o,mixer:n}={}){let s=e.length;if(he(s===t.length,"Both input and output ranges must be the same length"),s===1)return ()=>t[0];if(s===2&&t[0]===t[1])return ()=>t[1];let i=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());let a=gr(t,o,n),f=a.length,m=c=>{if(i&&c<e[0])return t[0];let l=0;if(f>1)for(;l<e.length-2&&!(c<e[l+1]);l++);let d=L(e[l],e[l+1],c);return a[l](d)};return r?c=>m(C(e[0],e[s-1],c)):m}function ct(e,t){let r=e[e.length-1];for(let o=1;o<=t;o++){let n=L(0,t,o);e.push(O(r,1,n));}}function pt(e){let t=[0];return ct(t,e.length-1),t}function ut(e,t,r){var o;if(e instanceof Element)return [e];if(typeof e=="string"){let n=document;let s=(o=void 0)!==null&&o!==void 0?o:n.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}function Se(e,t){let r,o=()=>{let{currentTime:n}=t,i=(n===null?0:n.value)/100;r!==i&&e(i),r=i;};return w.update(o,true),()=>W(o)}var le=new WeakMap,M;function br(e,t){if(t){let{inlineSize:r,blockSize:o}=t[0];return {width:r,height:o}}else return e instanceof SVGElement&&"getBBox"in e?e.getBBox():{width:e.offsetWidth,height:e.offsetHeight}}function vr({target:e,contentRect:t,borderBoxSize:r}){var o;(o=le.get(e))===null||o===void 0||o.forEach(n=>{n({target:e,contentSize:t,get size(){return br(e,r)}});});}function yr(e){e.forEach(vr);}function wr(){typeof ResizeObserver!="undefined"&&(M=new ResizeObserver(yr));}function dt(e,t){M||wr();let r=ut(e);return r.forEach(o=>{let n=le.get(o);n||(n=new Set,le.set(o,n)),n.add(t),M==null||M.observe(o);}),()=>{r.forEach(o=>{let n=le.get(o);n==null||n.delete(t),n!=null&&n.size||M==null||M.unobserve(o);});}}var me=new Set,K;function Er(){K=()=>{let e={width:window.innerWidth,height:window.innerHeight},t={target:window,size:e,contentSize:e};me.forEach(r=>r(t));},window.addEventListener("resize",K);}function ht(e){return me.add(e),K||Er(),()=>{me.delete(e),!me.size&&K&&(K=void 0);}}function xt(e,t){return typeof e=="function"?ht(e):dt(e,t)}var Sr=50,gt=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),vt=()=>({time:0,x:gt(),y:gt()}),Cr={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function bt(e,t,r,o){let n=r[t],{length:s,position:i}=Cr[t],a=n.current,f=r.time;n.current=e[`scroll${i}`],n.scrollLength=e[`scroll${s}`]-e[`client${s}`],n.offset.length=0,n.offset[0]=0,n.offset[1]=n.scrollLength,n.progress=L(0,n.scrollLength,n.current);let m=o-f;n.velocity=m>Sr?0:oe(n.current-a,m);}function yt(e,t,r){bt(e,"x",t,r),bt(e,"y",t,r),t.time=r;}function wt(e,t){let r={x:0,y:0},o=e;for(;o&&o!==t;)if(o instanceof HTMLElement)r.x+=o.offsetLeft,r.y+=o.offsetTop,o=o.offsetParent;else if(o.tagName==="svg"){let n=o.getBoundingClientRect();o=o.parentElement;let s=o.getBoundingClientRect();r.x+=n.left-s.left,r.y+=n.top-s.top;}else if(o instanceof SVGGraphicsElement){let{x:n,y:s}=o.getBBox();r.x+=n,r.y+=s;let i=null,a=o.parentNode;for(;!i;)a.tagName==="svg"&&(i=a),a=o.parentNode;o=i;}else break;return r}var ce={start:0,center:.5,end:1};function Ce(e,t,r=0){let o=0;if(e in ce&&(e=ce[e]),typeof e=="string"){let n=parseFloat(e);e.endsWith("px")?o=n:e.endsWith("%")?e=n/100:e.endsWith("vw")?o=n/100*document.documentElement.clientWidth:e.endsWith("vh")?o=n/100*document.documentElement.clientHeight:e=n;}return typeof e=="number"&&(o=t*e),r+o}var Tr=[0,0];function Et(e,t,r,o){let n=Array.isArray(e)?e:Tr,s=0,i=0;return typeof e=="number"?n=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?n=e.split(" "):n=[e,ce[e]?e:"0"]),s=Ce(n[0],r,o),i=Ce(n[1],t),s-i}var St={All:[[0,0],[1,1]]};var Ar={x:0,y:0};function Or(e){return "getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function Ct(e,t,r){let{offset:o=St.All}=r,{target:n=e,axis:s="y"}=r,i=s==="y"?"height":"width",a=n!==e?wt(n,e):Ar,f=n===e?{width:e.scrollWidth,height:e.scrollHeight}:Or(n),m={width:e.clientWidth,height:e.clientHeight};t[s].offset.length=0;let c=!t[s].interpolate,l=o.length;for(let d=0;d<l;d++){let p=Et(o[d],m[i],f[i],a[s]);!c&&p!==t[s].interpolatorOffsets[d]&&(c=true),t[s].offset[d]=p;}c&&(t[s].interpolate=mt(t[s].offset,pt(o),{clamp:false}),t[s].interpolatorOffsets=[...t[s].offset]),t[s].progress=C(0,1,t[s].interpolate(t[s].current));}function Mr(e,t=e,r){if(r.x.targetOffset=0,r.y.targetOffset=0,t!==e){let o=t;for(;o&&o!==e;)r.x.targetOffset+=o.offsetLeft,r.y.targetOffset+=o.offsetTop,o=o.offsetParent;}r.x.targetLength=t===e?t.scrollWidth:t.clientWidth,r.y.targetLength=t===e?t.scrollHeight:t.clientHeight,r.x.containerLength=e.clientWidth,r.y.containerLength=e.clientHeight,process.env.NODE_ENV!=="production"&&e&&t&&t!==e&&J(getComputedStyle(e).position!=="static","Please ensure that the container has a non-static position, like 'relative', 'fixed', or 'absolute' to ensure scroll offset is calculated correctly.");}function Tt(e,t,r,o={}){return {measure:()=>Mr(e,o.target,r),update:n=>{yt(e,r,n),(o.offset||o.target)&&Ct(e,r,o);},notify:()=>t(r)}}var j=new WeakMap,At=new WeakMap,Te=new WeakMap,Ot=e=>e===document.documentElement?window:e;function pe(e,o={}){var n=o,{container:t=document.documentElement}=n,r=V(n,["container"]);let s=Te.get(t);s||(s=new Set,Te.set(t,s));let i=vt(),a=Tt(t,e,i,r);if(s.add(a),!j.has(t)){let m=()=>{for(let u of s)u.measure();},c=()=>{for(let u of s)u.update(U.timestamp);},l=()=>{for(let u of s)u.notify();},d=()=>{w.read(m,false,true),w.read(c,false,true),w.update(l,false,true);};j.set(t,d);let p=Ot(t);window.addEventListener("resize",d,{passive:true}),t!==document.documentElement&&At.set(t,xt(t,d)),p.addEventListener("scroll",d,{passive:true});}let f=j.get(t);return w.read(f,false,true),()=>{var m;W(f);let c=Te.get(t);if(!c||(c.delete(a),c.size))return;let l=j.get(t);j.delete(t),l&&(Ot(t).removeEventListener("scroll",l),(m=At.get(t))===null||m===void 0||m(),window.removeEventListener("resize",l));}}function Ir({source:e,container:t,axis:r="y"}){e&&(t=e);let o={value:0},n=pe(s=>{o.value=s[r].progress*100;},{container:t,axis:r});return {currentTime:o,cancel:n}}var Ae=new Map;function Mt({source:e,container:t=document.documentElement,axis:r="y"}={}){e&&(t=e),Ae.has(t)||Ae.set(t,{});let o=Ae.get(t);return o[r]||(o[r]=Ke()?new ScrollTimeline({source:t,axis:r}):Ir({source:t,axis:r})),o[r]}function Rr(e){return e.length===2}function It(e){return e&&(e.target||e.offset)}function zr(e,t){return Rr(e)||It(t)?pe(r=>{e(r[t.axis].progress,r);},t):Se(e,Mt(t))}function Pr(e,t){if(e.flatten(),It(t))return e.pause(),pe(r=>{e.time=e.duration*r[t.axis].progress;},t);{let r=Mt(t);return e.attachTimeline?e.attachTimeline(r,o=>(o.pause(),Se(n=>{o.time=o.duration*n;},r))):y}}function Rt(e,o={}){var n=o,{axis:t="y"}=n,r=V(n,["axis"]);let s=x({axis:t},r);return typeof e=="function"?zr(e,s):Pr(e,s)}function zt(e,t){z(!!(!t||t.current),`You have defined a ${e} options but the provided ref is not yet hydrated, probably because it's defined higher up the tree. Try calling useScroll() in the same component as the ref, or setting its \`layoutEffect: false\` option.`);}var Wr=()=>({scrollX:_(0),scrollY:_(0),scrollXProgress:_(0),scrollYProgress:_(0)});function Oe(n={}){var s=n,{container:e,target:t,layoutEffect:r=true}=s,o=V(s,["container","target","layoutEffect"]);let i=We(Wr);return (r?Ne:react.useEffect)(()=>(zt("target",t),zt("container",e),Rt((f,{x:m,y:c})=>{i.scrollX.set(m.current),i.scrollXProgress.set(m.progress),i.scrollY.set(c.current),i.scrollYProgress.set(c.progress);},S(x({},o),{container:(e==null?void 0:e.current)||void 0,target:(t==null?void 0:t.current)||void 0}))),[e,t,JSON.stringify(o.offset)]),i}function Me(e){let t=react.useRef(0),{isStatic:r}=react.useContext(Fe);react.useEffect(()=>{if(r)return;let o=({timestamp:n,delta:s})=>{t.current||(t.current=n),e(n-t.current,s);};return w.update(o,true),()=>W(o)},[e]);}var Wt={featheredOut:"top",strokeStyle:"#fff",fill:"rgba(0,0,0,0.1)",configs:[{right:[.2,.9,-0.8],left:[.7,.6,.9]},{right:[.2,.9,-0.5],left:[.7,.6,.6]},{right:[.2,.9,-0.2],left:[.7,.6,.3]}],scrollOffset:["start 80%","end 90%"]};function de(e,t,r){return [math.lerp(e[0],t[0],r),math.lerp(e[1],t[1],r),math.lerp(e[2],t[2],r)]}function kr(e,t,r){return {left:de(e.left,t.left,r),right:de(e.right,t.right,r)}}function Dr(e,t,r=1,o=1,n=0,s=0,i,a){e.beginPath(),e.moveTo(0,0),e.lineTo(i,0),e.lineTo(i,a*t.right[0]),e.bezierCurveTo(i-t.right[1]*i,t.right[0]*a+t.right[2]*r*a,t.left[1]*i,t.left[0]*a+t.left[2]*r*a,0,t.left[0]*a),e.closePath(),e.fill();for(let f=0;f<o;f++){let m=f+1;e.beginPath(),e.moveTo(i,a*t.right[0]+s*m),e.bezierCurveTo(i-t.right[1]*i,t.right[0]*a+t.right[2]*r*a+s*m,t.left[1]*i,t.left[0]*a+t.left[2]*r*a+n*m,0,t.left[0]*a+n*m),e.stroke();}}function Ft({waveConfig:e=Wt}){let t=react.useRef(null),r=react.useRef(null),o=Ee,{scrollYProgress:n}=Oe({target:t,offset:e.scrollOffset}),[s,i]=react.useState(1),[a,f]=react.useState(e.configs[0]),m=react.useRef(null),c=60,l=react.useRef(n.get());react.useEffect(()=>{i(window.devicePixelRatio||1);},[]),react.useEffect(()=>{let p=()=>{let u=r.current,v=t.current;if(!u||!v)return;let g=v.clientWidth,h=v.clientHeight;u.style.width=`${g}px`,u.style.height=`${h}px`,u.width=g*s,u.height=h*s;};return p(),window.addEventListener("resize",p),()=>window.removeEventListener("resize",p)},[s]);let d=(p,u,v)=>{var h,b,I,R;if(!p)return;let g=p.getContext("2d");g&&(g.setTransform(1,0,0,1,0,0),g.clearRect(0,0,p.width,p.height),g.scale(s,s),g.fillStyle=v,g.strokeStyle=(h=e.strokeStyle)!=null?h:"white",g.lineWidth=.4,Dr(g,u,1,(b=e.curveAmount)!=null?b:1,(I=e.offsetLeft)!=null?I:0,(R=e.offsetRight)!=null?R:0,p.width/s,p.height/s));};return Me(p=>{var X;let u=n.get(),v=e.configs.length,g=v===1?e.configs[0]:(()=>{let k=1/(v-1),Y=Math.min(Math.floor(u/k),v-2),Lt=math.remap(Y*k,(Y+1)*k,0,1,u),Nt=e.configs[Y],Bt=e.configs[Y+1];return kr(Nt,Bt,Lt)})();m.current||(m.current=p);let h=p-m.current,b=Math.min(h/c,1),I=o(b),R={left:de(a.left,g.left,I),right:de(a.right,g.right,I)};f(R),u!==l.current&&(m.current=p,l.current=u),d(r.current,R,(X=e.fill)!=null?X:Wt.fill);}),jsxRuntime.jsx("div",{className:"absolute inset-0",ref:t,children:jsxRuntime.jsx("div",{className:"absolute inset-0",style:{mask:e.featheredOut==="top"?"linear-gradient(rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 1) 40%)":e.featheredOut==="bottom"?"linear-gradient(rgba(0, 0, 0, 1) 60%, rgba(0, 0, 0, 0) 100%)":e.featheredOut==="both"?"linear-gradient(rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 1) 20%, rgba(0, 0, 0, 1) 80%, rgba(0, 0, 0, 0) 100%)":void 0},children:jsxRuntime.jsx("canvas",{ref:r,className:"size-full"})})})}exports.Wave=Ft;//# sourceMappingURL=index.js.map
//# sourceMappingURL=index.js.map
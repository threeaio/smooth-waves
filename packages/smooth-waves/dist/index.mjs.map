{"version":3,"sources":["../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/utils/use-constant.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/context/MotionConfigContext.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/utils/use-isomorphic-effect.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/utils/is-browser.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/motion-utils/dist/es/noop.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/motion-utils/dist/es/errors.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/utils/GlobalConfig.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/frameloop/order.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/stats/buffer.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/frameloop/render-step.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/frameloop/batcher.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/frameloop/frame.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/utils/warn-once.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/render/dom/utils/is-css-variable.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/render/html/utils/keys-transform.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/value/utils/is-motion-value.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/utils/clamp.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/value/types/numbers/index.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/value/types/numbers/units.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/frameloop/sync-time.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/utils/array.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/utils/subscription-manager.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/utils/velocity-per-second.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/value/index.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/motion-utils/dist/es/memo.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/motion-dom/dist/es/utils/supports/scroll-timeline.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/motion-utils/dist/es/time-conversion.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/motion-dom/dist/es/animation/generators/utils/is-generator.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/motion-dom/dist/es/utils/is-bezier-definition.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/motion-utils/dist/es/progress.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/motion-dom/dist/es/animation/waapi/utils/linear.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/easing/cubic-bezier.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/easing/modifiers/mirror.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/easing/modifiers/reverse.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/easing/back.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/easing/anticipate.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/easing/circ.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/value/types/utils/sanitize.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/value/types/utils/float-regex.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/value/types/utils/is-nullish.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/value/types/utils/single-color-regex.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/value/types/color/utils.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/value/types/color/rgba.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/value/types/color/hex.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/value/types/color/hsla.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/value/types/color/index.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/value/types/utils/color-regex.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/value/types/complex/index.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/render/dom/utils/unit-conversion.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/render/utils/KeyframesResolver.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/animation/utils/is-animatable.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/animation/animators/utils/can-animate.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/animation/animators/waapi/utils/get-final-keyframe.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/animation/animators/BaseAnimation.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/motion-dom/dist/es/animation/generators/utils/calc-duration.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/utils/mix/number.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/utils/hsla-to-rgba.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/utils/mix/immediate.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/utils/mix/color.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/utils/pipe.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/utils/mix/visibility.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/utils/mix/complex.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/utils/mix/index.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/animation/generators/utils/velocity.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/animation/generators/spring/defaults.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/animation/generators/spring/find.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/animation/generators/spring/index.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/animation/generators/inertia.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/easing/ease.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/easing/utils/is-easing-array.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/easing/utils/map.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/utils/interpolate.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/utils/offsets/fill.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/utils/offsets/default.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/utils/offsets/time.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/animation/generators/keyframes.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/animation/animators/drivers/driver-frameloop.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/animation/animators/MainThreadAnimation.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/motion-dom/dist/es/utils/resolve-elements.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/render/dom/scroll/observe.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/render/dom/resize/handle-element.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/render/dom/resize/handle-window.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/render/dom/resize/index.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/render/dom/scroll/info.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/render/dom/scroll/offsets/inset.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/render/dom/scroll/offsets/edge.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/render/dom/scroll/offsets/offset.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/render/dom/scroll/offsets/presets.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/render/dom/scroll/offsets/index.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/render/dom/scroll/on-scroll-handler.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/render/dom/scroll/track.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/render/dom/scroll/index.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/value/use-scroll.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/value/use-motion-value.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/value/use-spring.mjs","../../../node_modules/.pnpm/motion@12.4.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/motion/dist/es/framer-motion/dist/es/utils/use-animation-frame.mjs","../src/wave.tsx"],"names":["useConstant","init","ref","useRef","MotionConfigContext","createContext","p","isBrowser","useIsomorphicLayoutEffect","useLayoutEffect","useEffect","noop","any","warning","invariant","check","message","MotionGlobalConfig","stepsOrder","createRenderStep","runNextFrame","stepName","thisFrame","nextFrame","isProcessing","flushNextFrame","toKeepAlive","latestFrameData","numCalls","triggerCallback","callback","step","keepAlive","immediate","queue","frameData","maxElapsed","createRenderBatcher","scheduleNextBatch","allowKeepAlive","useDefaultElapsed","state","flagRunNextFrame","steps","acc","key","read","resolveKeyframes","update","preRender","render","postRender","processBatch","timestamp","wake","process","i","frame","cancelFrame","warned","warnOnce","condition","element","checkStringStartsWith","token","startsAsVariableToken","isCSSVariableToken","value","singleCssVariableRegex","transformPropOrder","transformProps","isMotionValue","clamp","min","max","v","number","alpha","__spreadProps","__spreadValues","createUnitType","unit","percent","now","clearTime","time","newTime","addUniqueItem","arr","item","removeItem","index","SubscriptionManager","handler","a","b","c","numSubscriptions","velocityPerSecond","velocity","frameDuration","MAX_VELOCITY_DELTA","isFloat","MotionValue","options","currentTime","current","prevFrameValue","subscription","eventName","unsubscribe","eventManagers","passiveEffect","stopPassiveEffect","prev","delta","endAnimation","startAnimation","resolve","motionValue","memo","result","supportsScrollTimeline","secondsToMilliseconds","seconds","millisecondsToSeconds","milliseconds","isGenerator","type","isBezierDefinition","easing","progress","from","to","toFromDifference","generateLinearEasing","duration","resolution","points","numPoints","calcBezier","t","a1","a2","subdivisionPrecision","subdivisionMaxIterations","binarySubdivide","x","lowerBound","upperBound","mX1","mX2","currentX","currentT","cubicBezier","mY1","mY2","getTForX","aX","mirrorEasing","reverseEasing","backOut","backIn","backInOut","anticipate","circIn","circOut","circInOut","sanitize","floatRegex","isNullish","singleColorRegex","isColorString","testProp","splitColor","aName","bName","cName","clampRgbUnit","rgbUnit","rgba","red","green","blue","alpha$1","parseHex","r","g","hex","hsla","hue","saturation","lightness","color","colorRegex","test","_a","_b","NUMBER_TOKEN","COLOR_TOKEN","VAR_TOKEN","VAR_FUNCTION_TOKEN","SPLIT_TOKEN","complexRegex","analyseComplexValue","originalValue","values","indexes","types","split","parsedValue","parseComplexValue","createTransformer","source","numSections","output","convertNumbersToZero","getAnimatableNone","parsed","complex","transformKeys","nonTranslationalTransformKeys","removeNonTranslationalTransform","visualElement","removedTransforms","toResolve","isScheduled","anyNeedsMeasurement","measureAllKeyframes","resolversToMeasure","resolver","elementsToMeasure","transformsToRestore","restore","readAllKeyframes","flushKeyframeResolvers","KeyframeResolver","unresolvedKeyframes","onComplete","name","isAsync","currentValue","finalKeyframe","valueAsRead","isAnimatable","hasKeyframesChanged","keyframes","canAnimate","originKeyframe","targetKeyframe","isOriginAnimatable","isTargetAnimatable","isNotNull","getFinalKeyframe","repeat","repeatType","resolvedKeyframes","MAX_RESOLVE_DELAY","BaseAnimation","autoplay","delay","repeatDelay","__objRest","onUpdate","resolvedAnimation","reject","calcGeneratorDuration","generator","timeStep","mixNumber","hueToRgb","q","hslaToRgba","mixImmediate","mixLinearColor","fromExpo","expo","colorTypes","getColorType","asRGBA","model","mixColor","fromRGBA","toRGBA","blended","combineFunctions","pipe","transformers","invisibleValues","mixVisibility","origin","target","getMixer","mixComplex","mixArray","mixObject","numValues","blendValue","matchOrder","orderedOrigin","pointers","originIndex","originValue","template","originStats","targetStats","mix","velocitySampleDuration","calcGeneratorVelocity","resolveValue","prevT","springDefaults","safeMin","findSpring","bounce","mass","envelope","derivative","dampingRatio","undampedFreq","exponentialDecay","calcAngularFreq","d","e","f","initialGuess","approximateRoot","stiffness","rootIterations","durationKeys","physicsKeys","isSpringType","keys","getSpringOptions","springOptions","visualDuration","root","damping","derived","spring","optionsOrVisualDuration","restSpeed","restDelta","isResolvedFromDuration","initialVelocity","initialDelta","undampedAngularFreq","isGranularScale","resolveSpring","angularFreq","dampedAngularFreq","freqForT","currentVelocity","isBelowVelocityThreshold","isBelowDisplacementThreshold","calculatedDuration","inertia","power","timeConstant","bounceDamping","bounceStiffness","modifyTarget","isOutOfBounds","nearestBoundary","amplitude","ideal","calcDelta","calcLatest","applyFriction","latest","timeReachedBoundary","spring$1","checkCatchBoundary","hasUpdatedFrame","easeIn","easeOut","easeInOut","isEasingArray","ease","easingLookup","easingDefinitionToFunction","definition","x1","y1","x2","y2","createMixers","customMixer","mixers","mixerFactory","numMixers","mixer","easingFunction","interpolate","input","isClamp","inputLength","isZeroDeltaRange","interpolator","progressInRange","fillOffset","offset","remaining","offsetProgress","defaultOffset","convertOffsetToTimes","o","defaultEasing","keyframeValues","times","easingFunctions","absoluteTimes","mapTimeToKeyframe","frameloopDriver","passTimestamp","generators","percentToProgress","MainThreadAnimation","onStop","KeyframeResolver$1","onResolved","keyframes$1","generatorFactory","mapPercentToKeyframes","mirroredGenerator","resolvedDuration","totalDuration","activeAnimations","sample","resolved","timeWithoutDelay","isInDelayPhase","elapsed","frameGenerator","currentIteration","iterationProgress","done","isAnimationFinished","newSpeed","hasChanged","driver","onPlay","startTime","animateValue","resolveElements","elementOrSelector","scope","selectorCache","elements","observeTimeline","timeline","prevProgress","onFrame","resizeHandlers","observer","getElementSize","borderBoxSize","inlineSize","blockSize","notifyTarget","contentRect","notifyAll","entries","createResizeObserver","resizeElement","elementHandlers","windowCallbacks","windowResizeHandler","createWindowResizeHandler","size","info","resizeWindow","resize","createAxisInfo","createScrollInfo","updateAxisInfo","axisName","axis","length","position","prevTime","updateScrollInfo","calcInset","container","inset","svgBoundingBox","parentBoundingBox","y","svg","parent","namedEdges","resolveEdge","edge","asNumber","resolveOffset","containerLength","targetLength","targetInset","offsetDefinition","targetPoint","containerPoint","ScrollOffset","point","getTargetSize","resolveOffsets","lengthLabel","targetSize","containerSize","numOffsets","measure","node","createOnScrollHandler","onScroll","scrollListeners","resizeListeners","onScrollHandlers","getEventTarget","scrollInfo","containerHandlers","containerHandler","measureAll","updateAll","listener","currentHandlers","scrollListener","scrollTimelineFallback","cancel","timelineCache","getTimeline","elementCache","isOnScrollWithInfo","needsElementTracking","scrollFunction","scrollAnimation","animation","valueAnimation","scroll","optionsWithDefaults","refWarning","createScrollMotionValues","useScroll","layoutEffect","_progress","useMotionValue","initial","isStatic","useContext","setLatest","useState","useSpring","config","activeSpringAnimation","initialValue","latestValue","latestSetter","stopAnimation","useInsertionEffect","set","parseValue","useAnimationFrame","initialTimestamp","provideTimeSinceStart","defaultCurveConfig","catmullRom","p0","p1","p2","p3","t2","t3","interpolateSequence","extendedPoints","segments","segmentT","segment","localT","interpolateBezierConfig","configs","yCoords","xOffsets","yOffsets","interpolateWaveConfig","leftConfigs","rightConfigs","lerpBezier","start","end","lerp","lerpBeziers","error","drawWavePath","ctx","curveAmount","lineOffsetLeft","lineOffsetRight","width","height","flip","leftY","leftXOffset","leftYOffset","rightX","rightY","rightXOffset","rightYOffset","Wave","curveConfig","containerRef","canvasRef","scrollYProgress","smoothProgress","dpr","setDpr","handleResize","canvas","drawWave","fillStyle","_c","_d","_e","_f","drawDebug","scrollProgress","sp","configCount","targetConfig","jsx"],"mappings":"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","file":"index.mjs","sourcesContent":["import { useRef } from 'react';\n\n/**\n * Creates a constant value over the lifecycle of a component.\n *\n * Even if `useMemo` is provided an empty array as its final argument, it doesn't offer\n * a guarantee that it won't re-run for performance reasons later on. By using `useConstant`\n * you can ensure that initialisers don't execute twice or more.\n */\nfunction useConstant(init) {\n    const ref = useRef(null);\n    if (ref.current === null) {\n        ref.current = init();\n    }\n    return ref.current;\n}\n\nexport { useConstant };\n","\"use client\";\nimport { createContext } from 'react';\n\n/**\n * @public\n */\nconst MotionConfigContext = createContext({\n    transformPagePoint: (p) => p,\n    isStatic: false,\n    reducedMotion: \"never\",\n});\n\nexport { MotionConfigContext };\n","import { useLayoutEffect, useEffect } from 'react';\nimport { isBrowser } from './is-browser.mjs';\n\nconst useIsomorphicLayoutEffect = isBrowser ? useLayoutEffect : useEffect;\n\nexport { useIsomorphicLayoutEffect };\n","const isBrowser = typeof window !== \"undefined\";\n\nexport { isBrowser };\n","/*#__NO_SIDE_EFFECTS__*/\nconst noop = (any) => any;\n\nexport { noop };\n","import { noop } from './noop.mjs';\n\nlet warning = noop;\nlet invariant = noop;\nif (process.env.NODE_ENV !== \"production\") {\n    warning = (check, message) => {\n        if (!check && typeof console !== \"undefined\") {\n            console.warn(message);\n        }\n    };\n    invariant = (check, message) => {\n        if (!check) {\n            throw new Error(message);\n        }\n    };\n}\n\nexport { invariant, warning };\n","const MotionGlobalConfig = {\n    skipAnimations: false,\n    useManualTiming: false,\n};\n\nexport { MotionGlobalConfig };\n","const stepsOrder = [\n    \"read\", // Read\n    \"resolveKeyframes\", // Write/Read/Write/Read\n    \"update\", // Compute\n    \"preRender\", // Compute\n    \"render\", // Write\n    \"postRender\", // Compute\n];\n\nexport { stepsOrder };\n","const statsBuffer = {\n    value: null,\n    addProjectionMetrics: null,\n};\n\nexport { statsBuffer };\n","import { statsBuffer } from '../stats/buffer.mjs';\n\nfunction createRenderStep(runNextFrame, stepName) {\n    /**\n     * We create and reuse two queues, one to queue jobs for the current frame\n     * and one for the next. We reuse to avoid triggering GC after x frames.\n     */\n    let thisFrame = new Set();\n    let nextFrame = new Set();\n    /**\n     * Track whether we're currently processing jobs in this step. This way\n     * we can decide whether to schedule new jobs for this frame or next.\n     */\n    let isProcessing = false;\n    let flushNextFrame = false;\n    /**\n     * A set of processes which were marked keepAlive when scheduled.\n     */\n    const toKeepAlive = new WeakSet();\n    let latestFrameData = {\n        delta: 0.0,\n        timestamp: 0.0,\n        isProcessing: false,\n    };\n    let numCalls = 0;\n    function triggerCallback(callback) {\n        if (toKeepAlive.has(callback)) {\n            step.schedule(callback);\n            runNextFrame();\n        }\n        numCalls++;\n        callback(latestFrameData);\n    }\n    const step = {\n        /**\n         * Schedule a process to run on the next frame.\n         */\n        schedule: (callback, keepAlive = false, immediate = false) => {\n            const addToCurrentFrame = immediate && isProcessing;\n            const queue = addToCurrentFrame ? thisFrame : nextFrame;\n            if (keepAlive)\n                toKeepAlive.add(callback);\n            if (!queue.has(callback))\n                queue.add(callback);\n            return callback;\n        },\n        /**\n         * Cancel the provided callback from running on the next frame.\n         */\n        cancel: (callback) => {\n            nextFrame.delete(callback);\n            toKeepAlive.delete(callback);\n        },\n        /**\n         * Execute all schedule callbacks.\n         */\n        process: (frameData) => {\n            latestFrameData = frameData;\n            /**\n             * If we're already processing we've probably been triggered by a flushSync\n             * inside an existing process. Instead of executing, mark flushNextFrame\n             * as true and ensure we flush the following frame at the end of this one.\n             */\n            if (isProcessing) {\n                flushNextFrame = true;\n                return;\n            }\n            isProcessing = true;\n            [thisFrame, nextFrame] = [nextFrame, thisFrame];\n            // Execute this frame\n            thisFrame.forEach(triggerCallback);\n            /**\n             * If we're recording stats then\n             */\n            if (stepName && statsBuffer.value) {\n                statsBuffer.value.frameloop[stepName].push(numCalls);\n            }\n            numCalls = 0;\n            // Clear the frame so no callbacks remain. This is to avoid\n            // memory leaks should this render step not run for a while.\n            thisFrame.clear();\n            isProcessing = false;\n            if (flushNextFrame) {\n                flushNextFrame = false;\n                step.process(frameData);\n            }\n        },\n    };\n    return step;\n}\n\nexport { createRenderStep };\n","import { MotionGlobalConfig } from '../utils/GlobalConfig.mjs';\nimport { stepsOrder } from './order.mjs';\nimport { createRenderStep } from './render-step.mjs';\n\nconst maxElapsed = 40;\nfunction createRenderBatcher(scheduleNextBatch, allowKeepAlive) {\n    let runNextFrame = false;\n    let useDefaultElapsed = true;\n    const state = {\n        delta: 0.0,\n        timestamp: 0.0,\n        isProcessing: false,\n    };\n    const flagRunNextFrame = () => (runNextFrame = true);\n    const steps = stepsOrder.reduce((acc, key) => {\n        acc[key] = createRenderStep(flagRunNextFrame, allowKeepAlive ? key : undefined);\n        return acc;\n    }, {});\n    const { read, resolveKeyframes, update, preRender, render, postRender } = steps;\n    const processBatch = () => {\n        const timestamp = MotionGlobalConfig.useManualTiming\n            ? state.timestamp\n            : performance.now();\n        runNextFrame = false;\n        if (!MotionGlobalConfig.useManualTiming) {\n            state.delta = useDefaultElapsed\n                ? 1000 / 60\n                : Math.max(Math.min(timestamp - state.timestamp, maxElapsed), 1);\n        }\n        state.timestamp = timestamp;\n        state.isProcessing = true;\n        // Unrolled render loop for better per-frame performance\n        read.process(state);\n        resolveKeyframes.process(state);\n        update.process(state);\n        preRender.process(state);\n        render.process(state);\n        postRender.process(state);\n        state.isProcessing = false;\n        if (runNextFrame && allowKeepAlive) {\n            useDefaultElapsed = false;\n            scheduleNextBatch(processBatch);\n        }\n    };\n    const wake = () => {\n        runNextFrame = true;\n        useDefaultElapsed = true;\n        if (!state.isProcessing) {\n            scheduleNextBatch(processBatch);\n        }\n    };\n    const schedule = stepsOrder.reduce((acc, key) => {\n        const step = steps[key];\n        acc[key] = (process, keepAlive = false, immediate = false) => {\n            if (!runNextFrame)\n                wake();\n            return step.schedule(process, keepAlive, immediate);\n        };\n        return acc;\n    }, {});\n    const cancel = (process) => {\n        for (let i = 0; i < stepsOrder.length; i++) {\n            steps[stepsOrder[i]].cancel(process);\n        }\n    };\n    return { schedule, cancel, state, steps };\n}\n\nexport { createRenderBatcher };\n","import '../../../../motion-utils/dist/es/errors.mjs';\nimport { noop } from '../../../../motion-utils/dist/es/noop.mjs';\nimport { createRenderBatcher } from './batcher.mjs';\n\nconst { schedule: frame, cancel: cancelFrame, state: frameData, steps: frameSteps, } = createRenderBatcher(typeof requestAnimationFrame !== \"undefined\" ? requestAnimationFrame : noop, true);\n\nexport { cancelFrame, frame, frameData, frameSteps };\n","const warned = new Set();\nfunction warnOnce(condition, message, element) {\n    if (condition || warned.has(message))\n        return;\n    console.warn(message);\n    if (element)\n        console.warn(element);\n    warned.add(message);\n}\n\nexport { warnOnce };\n","const checkStringStartsWith = (token) => (key) => typeof key === \"string\" && key.startsWith(token);\nconst isCSSVariableName = \n/*@__PURE__*/ checkStringStartsWith(\"--\");\nconst startsAsVariableToken = \n/*@__PURE__*/ checkStringStartsWith(\"var(--\");\nconst isCSSVariableToken = (value) => {\n    const startsWithToken = startsAsVariableToken(value);\n    if (!startsWithToken)\n        return false;\n    // Ensure any comments are stripped from the value as this can harm performance of the regex.\n    return singleCssVariableRegex.test(value.split(\"/*\")[0].trim());\n};\nconst singleCssVariableRegex = /var\\(--(?:[\\w-]+\\s*|[\\w-]+\\s*,(?:\\s*[^)(\\s]|\\s*\\((?:[^)(]|\\([^)(]*\\))*\\))+\\s*)\\)$/iu;\n\nexport { isCSSVariableName, isCSSVariableToken };\n","/**\n * Generate a list of every possible transform key.\n */\nconst transformPropOrder = [\n    \"transformPerspective\",\n    \"x\",\n    \"y\",\n    \"z\",\n    \"translateX\",\n    \"translateY\",\n    \"translateZ\",\n    \"scale\",\n    \"scaleX\",\n    \"scaleY\",\n    \"rotate\",\n    \"rotateX\",\n    \"rotateY\",\n    \"rotateZ\",\n    \"skew\",\n    \"skewX\",\n    \"skewY\",\n];\n/**\n * A quick lookup for transform props.\n */\nconst transformProps = new Set(transformPropOrder);\n\nexport { transformPropOrder, transformProps };\n","const isMotionValue = (value) => Boolean(value && value.getVelocity);\n\nexport { isMotionValue };\n","const clamp = (min, max, v) => {\n    if (v > max)\n        return max;\n    if (v < min)\n        return min;\n    return v;\n};\n\nexport { clamp };\n","import { clamp } from '../../../utils/clamp.mjs';\n\nconst number = {\n    test: (v) => typeof v === \"number\",\n    parse: parseFloat,\n    transform: (v) => v,\n};\nconst alpha = {\n    ...number,\n    transform: (v) => clamp(0, 1, v),\n};\nconst scale = {\n    ...number,\n    default: 1,\n};\n\nexport { alpha, number, scale };\n","const createUnitType = (unit) => ({\n    test: (v) => typeof v === \"string\" && v.endsWith(unit) && v.split(\" \").length === 1,\n    parse: parseFloat,\n    transform: (v) => `${v}${unit}`,\n});\nconst degrees = /*@__PURE__*/ createUnitType(\"deg\");\nconst percent = /*@__PURE__*/ createUnitType(\"%\");\nconst px = /*@__PURE__*/ createUnitType(\"px\");\nconst vh = /*@__PURE__*/ createUnitType(\"vh\");\nconst vw = /*@__PURE__*/ createUnitType(\"vw\");\nconst progressPercentage = {\n    ...percent,\n    parse: (v) => percent.parse(v) / 100,\n    transform: (v) => percent.transform(v * 100),\n};\n\nexport { degrees, percent, progressPercentage, px, vh, vw };\n","import { MotionGlobalConfig } from '../utils/GlobalConfig.mjs';\nimport { frameData } from './frame.mjs';\n\nlet now;\nfunction clearTime() {\n    now = undefined;\n}\n/**\n * An eventloop-synchronous alternative to performance.now().\n *\n * Ensures that time measurements remain consistent within a synchronous context.\n * Usually calling performance.now() twice within the same synchronous context\n * will return different values which isn't useful for animations when we're usually\n * trying to sync animations to the same frame.\n */\nconst time = {\n    now: () => {\n        if (now === undefined) {\n            time.set(frameData.isProcessing || MotionGlobalConfig.useManualTiming\n                ? frameData.timestamp\n                : performance.now());\n        }\n        return now;\n    },\n    set: (newTime) => {\n        now = newTime;\n        queueMicrotask(clearTime);\n    },\n};\n\nexport { time };\n","function addUniqueItem(arr, item) {\n    if (arr.indexOf(item) === -1)\n        arr.push(item);\n}\nfunction removeItem(arr, item) {\n    const index = arr.indexOf(item);\n    if (index > -1)\n        arr.splice(index, 1);\n}\n// Adapted from array-move\nfunction moveItem([...arr], fromIndex, toIndex) {\n    const startIndex = fromIndex < 0 ? arr.length + fromIndex : fromIndex;\n    if (startIndex >= 0 && startIndex < arr.length) {\n        const endIndex = toIndex < 0 ? arr.length + toIndex : toIndex;\n        const [item] = arr.splice(fromIndex, 1);\n        arr.splice(endIndex, 0, item);\n    }\n    return arr;\n}\n\nexport { addUniqueItem, moveItem, removeItem };\n","import { addUniqueItem, removeItem } from './array.mjs';\n\nclass SubscriptionManager {\n    constructor() {\n        this.subscriptions = [];\n    }\n    add(handler) {\n        addUniqueItem(this.subscriptions, handler);\n        return () => removeItem(this.subscriptions, handler);\n    }\n    notify(a, b, c) {\n        const numSubscriptions = this.subscriptions.length;\n        if (!numSubscriptions)\n            return;\n        if (numSubscriptions === 1) {\n            /**\n             * If there's only a single handler we can just call it without invoking a loop.\n             */\n            this.subscriptions[0](a, b, c);\n        }\n        else {\n            for (let i = 0; i < numSubscriptions; i++) {\n                /**\n                 * Check whether the handler exists before firing as it's possible\n                 * the subscriptions were modified during this loop running.\n                 */\n                const handler = this.subscriptions[i];\n                handler && handler(a, b, c);\n            }\n        }\n    }\n    getSize() {\n        return this.subscriptions.length;\n    }\n    clear() {\n        this.subscriptions.length = 0;\n    }\n}\n\nexport { SubscriptionManager };\n","/*\n  Convert velocity into velocity per second\n\n  @param [number]: Unit per frame\n  @param [number]: Frame duration in ms\n*/\nfunction velocityPerSecond(velocity, frameDuration) {\n    return frameDuration ? velocity * (1000 / frameDuration) : 0;\n}\n\nexport { velocityPerSecond };\n","import { time } from '../frameloop/sync-time.mjs';\nimport { SubscriptionManager } from '../utils/subscription-manager.mjs';\nimport { velocityPerSecond } from '../utils/velocity-per-second.mjs';\nimport { warnOnce } from '../utils/warn-once.mjs';\nimport { frame } from '../frameloop/frame.mjs';\n\n/**\n * Maximum time between the value of two frames, beyond which we\n * assume the velocity has since been 0.\n */\nconst MAX_VELOCITY_DELTA = 30;\nconst isFloat = (value) => {\n    return !isNaN(parseFloat(value));\n};\nconst collectMotionValues = {\n    current: undefined,\n};\n/**\n * `MotionValue` is used to track the state and velocity of motion values.\n *\n * @public\n */\nclass MotionValue {\n    /**\n     * @param init - The initiating value\n     * @param config - Optional configuration options\n     *\n     * -  `transformer`: A function to transform incoming values with.\n     *\n     * @internal\n     */\n    constructor(init, options = {}) {\n        /**\n         * This will be replaced by the build step with the latest version number.\n         * When MotionValues are provided to motion components, warn if versions are mixed.\n         */\n        this.version = \"12.4.1\";\n        /**\n         * Tracks whether this value can output a velocity. Currently this is only true\n         * if the value is numerical, but we might be able to widen the scope here and support\n         * other value types.\n         *\n         * @internal\n         */\n        this.canTrackVelocity = null;\n        /**\n         * An object containing a SubscriptionManager for each active event.\n         */\n        this.events = {};\n        this.updateAndNotify = (v, render = true) => {\n            const currentTime = time.now();\n            /**\n             * If we're updating the value during another frame or eventloop\n             * than the previous frame, then the we set the previous frame value\n             * to current.\n             */\n            if (this.updatedAt !== currentTime) {\n                this.setPrevFrameValue();\n            }\n            this.prev = this.current;\n            this.setCurrent(v);\n            // Update update subscribers\n            if (this.current !== this.prev && this.events.change) {\n                this.events.change.notify(this.current);\n            }\n            // Update render subscribers\n            if (render && this.events.renderRequest) {\n                this.events.renderRequest.notify(this.current);\n            }\n        };\n        this.hasAnimated = false;\n        this.setCurrent(init);\n        this.owner = options.owner;\n    }\n    setCurrent(current) {\n        this.current = current;\n        this.updatedAt = time.now();\n        if (this.canTrackVelocity === null && current !== undefined) {\n            this.canTrackVelocity = isFloat(this.current);\n        }\n    }\n    setPrevFrameValue(prevFrameValue = this.current) {\n        this.prevFrameValue = prevFrameValue;\n        this.prevUpdatedAt = this.updatedAt;\n    }\n    /**\n     * Adds a function that will be notified when the `MotionValue` is updated.\n     *\n     * It returns a function that, when called, will cancel the subscription.\n     *\n     * When calling `onChange` inside a React component, it should be wrapped with the\n     * `useEffect` hook. As it returns an unsubscribe function, this should be returned\n     * from the `useEffect` function to ensure you don't add duplicate subscribers..\n     *\n     * ```jsx\n     * export const MyComponent = () => {\n     *   const x = useMotionValue(0)\n     *   const y = useMotionValue(0)\n     *   const opacity = useMotionValue(1)\n     *\n     *   useEffect(() => {\n     *     function updateOpacity() {\n     *       const maxXY = Math.max(x.get(), y.get())\n     *       const newOpacity = transform(maxXY, [0, 100], [1, 0])\n     *       opacity.set(newOpacity)\n     *     }\n     *\n     *     const unsubscribeX = x.on(\"change\", updateOpacity)\n     *     const unsubscribeY = y.on(\"change\", updateOpacity)\n     *\n     *     return () => {\n     *       unsubscribeX()\n     *       unsubscribeY()\n     *     }\n     *   }, [])\n     *\n     *   return <motion.div style={{ x }} />\n     * }\n     * ```\n     *\n     * @param subscriber - A function that receives the latest value.\n     * @returns A function that, when called, will cancel this subscription.\n     *\n     * @deprecated\n     */\n    onChange(subscription) {\n        if (process.env.NODE_ENV !== \"production\") {\n            warnOnce(false, `value.onChange(callback) is deprecated. Switch to value.on(\"change\", callback).`);\n        }\n        return this.on(\"change\", subscription);\n    }\n    on(eventName, callback) {\n        if (!this.events[eventName]) {\n            this.events[eventName] = new SubscriptionManager();\n        }\n        const unsubscribe = this.events[eventName].add(callback);\n        if (eventName === \"change\") {\n            return () => {\n                unsubscribe();\n                /**\n                 * If we have no more change listeners by the start\n                 * of the next frame, stop active animations.\n                 */\n                frame.read(() => {\n                    if (!this.events.change.getSize()) {\n                        this.stop();\n                    }\n                });\n            };\n        }\n        return unsubscribe;\n    }\n    clearListeners() {\n        for (const eventManagers in this.events) {\n            this.events[eventManagers].clear();\n        }\n    }\n    /**\n     * Attaches a passive effect to the `MotionValue`.\n     *\n     * @internal\n     */\n    attach(passiveEffect, stopPassiveEffect) {\n        this.passiveEffect = passiveEffect;\n        this.stopPassiveEffect = stopPassiveEffect;\n    }\n    /**\n     * Sets the state of the `MotionValue`.\n     *\n     * @remarks\n     *\n     * ```jsx\n     * const x = useMotionValue(0)\n     * x.set(10)\n     * ```\n     *\n     * @param latest - Latest value to set.\n     * @param render - Whether to notify render subscribers. Defaults to `true`\n     *\n     * @public\n     */\n    set(v, render = true) {\n        if (!render || !this.passiveEffect) {\n            this.updateAndNotify(v, render);\n        }\n        else {\n            this.passiveEffect(v, this.updateAndNotify);\n        }\n    }\n    setWithVelocity(prev, current, delta) {\n        this.set(current);\n        this.prev = undefined;\n        this.prevFrameValue = prev;\n        this.prevUpdatedAt = this.updatedAt - delta;\n    }\n    /**\n     * Set the state of the `MotionValue`, stopping any active animations,\n     * effects, and resets velocity to `0`.\n     */\n    jump(v, endAnimation = true) {\n        this.updateAndNotify(v);\n        this.prev = v;\n        this.prevUpdatedAt = this.prevFrameValue = undefined;\n        endAnimation && this.stop();\n        if (this.stopPassiveEffect)\n            this.stopPassiveEffect();\n    }\n    /**\n     * Returns the latest state of `MotionValue`\n     *\n     * @returns - The latest state of `MotionValue`\n     *\n     * @public\n     */\n    get() {\n        if (collectMotionValues.current) {\n            collectMotionValues.current.push(this);\n        }\n        return this.current;\n    }\n    /**\n     * @public\n     */\n    getPrevious() {\n        return this.prev;\n    }\n    /**\n     * Returns the latest velocity of `MotionValue`\n     *\n     * @returns - The latest velocity of `MotionValue`. Returns `0` if the state is non-numerical.\n     *\n     * @public\n     */\n    getVelocity() {\n        const currentTime = time.now();\n        if (!this.canTrackVelocity ||\n            this.prevFrameValue === undefined ||\n            currentTime - this.updatedAt > MAX_VELOCITY_DELTA) {\n            return 0;\n        }\n        const delta = Math.min(this.updatedAt - this.prevUpdatedAt, MAX_VELOCITY_DELTA);\n        // Casts because of parseFloat's poor typing\n        return velocityPerSecond(parseFloat(this.current) -\n            parseFloat(this.prevFrameValue), delta);\n    }\n    /**\n     * Registers a new animation to control this `MotionValue`. Only one\n     * animation can drive a `MotionValue` at one time.\n     *\n     * ```jsx\n     * value.start()\n     * ```\n     *\n     * @param animation - A function that starts the provided animation\n     *\n     * @internal\n     */\n    start(startAnimation) {\n        this.stop();\n        return new Promise((resolve) => {\n            this.hasAnimated = true;\n            this.animation = startAnimation(resolve);\n            if (this.events.animationStart) {\n                this.events.animationStart.notify();\n            }\n        }).then(() => {\n            if (this.events.animationComplete) {\n                this.events.animationComplete.notify();\n            }\n            this.clearAnimation();\n        });\n    }\n    /**\n     * Stop the currently active animation.\n     *\n     * @public\n     */\n    stop() {\n        if (this.animation) {\n            this.animation.stop();\n            if (this.events.animationCancel) {\n                this.events.animationCancel.notify();\n            }\n        }\n        this.clearAnimation();\n    }\n    /**\n     * Returns `true` if this value is currently animating.\n     *\n     * @public\n     */\n    isAnimating() {\n        return !!this.animation;\n    }\n    clearAnimation() {\n        delete this.animation;\n    }\n    /**\n     * Destroy and clean up subscribers to this `MotionValue`.\n     *\n     * The `MotionValue` hooks like `useMotionValue` and `useTransform` automatically\n     * handle the lifecycle of the returned `MotionValue`, so this method is only necessary if you've manually\n     * created a `MotionValue` via the `motionValue` function.\n     *\n     * @public\n     */\n    destroy() {\n        this.clearListeners();\n        this.stop();\n        if (this.stopPassiveEffect) {\n            this.stopPassiveEffect();\n        }\n    }\n}\nfunction motionValue(init, options) {\n    return new MotionValue(init, options);\n}\n\nexport { MotionValue, collectMotionValues, motionValue };\n","/*#__NO_SIDE_EFFECTS__*/\nfunction memo(callback) {\n    let result;\n    return () => {\n        if (result === undefined)\n            result = callback();\n        return result;\n    };\n}\n\nexport { memo };\n","import '../../../../../motion-utils/dist/es/errors.mjs';\nimport { memo } from '../../../../../motion-utils/dist/es/memo.mjs';\n\nconst supportsScrollTimeline = memo(() => window.ScrollTimeline !== undefined);\n\nexport { supportsScrollTimeline };\n","/**\n * Converts seconds to milliseconds\n *\n * @param seconds - Time in seconds.\n * @return milliseconds - Converted time in milliseconds.\n */\n/*#__NO_SIDE_EFFECTS__*/\nconst secondsToMilliseconds = (seconds) => seconds * 1000;\n/*#__NO_SIDE_EFFECTS__*/\nconst millisecondsToSeconds = (milliseconds) => milliseconds / 1000;\n\nexport { millisecondsToSeconds, secondsToMilliseconds };\n","function isGenerator(type) {\n    return typeof type === \"function\";\n}\n\nexport { isGenerator };\n","const isBezierDefinition = (easing) => Array.isArray(easing) && typeof easing[0] === \"number\";\n\nexport { isBezierDefinition };\n","/*\n  Progress within given range\n\n  Given a lower limit and an upper limit, we return the progress\n  (expressed as a number 0-1) represented by the given value, and\n  limit that progress to within 0-1.\n\n  @param [number]: Lower limit\n  @param [number]: Upper limit\n  @param [number]: Value to find progress within given range\n  @return [number]: Progress of value within range as expressed 0-1\n*/\n/*#__NO_SIDE_EFFECTS__*/\nconst progress = (from, to, value) => {\n    const toFromDifference = to - from;\n    return toFromDifference === 0 ? 1 : (value - from) / toFromDifference;\n};\n\nexport { progress };\n","import '../../../../../../motion-utils/dist/es/errors.mjs';\nimport { progress } from '../../../../../../motion-utils/dist/es/progress.mjs';\n\nconst generateLinearEasing = (easing, duration, // as milliseconds\nresolution = 10 // as milliseconds\n) => {\n    let points = \"\";\n    const numPoints = Math.max(Math.round(duration / resolution), 2);\n    for (let i = 0; i < numPoints; i++) {\n        points += easing(progress(0, numPoints - 1, i)) + \", \";\n    }\n    return `linear(${points.substring(0, points.length - 2)})`;\n};\n\nexport { generateLinearEasing };\n","import '../../../../motion-utils/dist/es/errors.mjs';\nimport { noop } from '../../../../motion-utils/dist/es/noop.mjs';\n\n/*\n  Bezier function generator\n  This has been modified from Gatan Renaudeau's BezierEasing\n  https://github.com/gre/bezier-easing/blob/master/src/index.js\n  https://github.com/gre/bezier-easing/blob/master/LICENSE\n  \n  I've removed the newtonRaphsonIterate algo because in benchmarking it\n  wasn't noticiably faster than binarySubdivision, indeed removing it\n  usually improved times, depending on the curve.\n  I also removed the lookup table, as for the added bundle size and loop we're\n  only cutting ~4 or so subdivision iterations. I bumped the max iterations up\n  to 12 to compensate and this still tended to be faster for no perceivable\n  loss in accuracy.\n  Usage\n    const easeOut = cubicBezier(.17,.67,.83,.67);\n    const x = easeOut(0.5); // returns 0.627...\n*/\n// Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.\nconst calcBezier = (t, a1, a2) => (((1.0 - 3.0 * a2 + 3.0 * a1) * t + (3.0 * a2 - 6.0 * a1)) * t + 3.0 * a1) *\n    t;\nconst subdivisionPrecision = 0.0000001;\nconst subdivisionMaxIterations = 12;\nfunction binarySubdivide(x, lowerBound, upperBound, mX1, mX2) {\n    let currentX;\n    let currentT;\n    let i = 0;\n    do {\n        currentT = lowerBound + (upperBound - lowerBound) / 2.0;\n        currentX = calcBezier(currentT, mX1, mX2) - x;\n        if (currentX > 0.0) {\n            upperBound = currentT;\n        }\n        else {\n            lowerBound = currentT;\n        }\n    } while (Math.abs(currentX) > subdivisionPrecision &&\n        ++i < subdivisionMaxIterations);\n    return currentT;\n}\nfunction cubicBezier(mX1, mY1, mX2, mY2) {\n    // If this is a linear gradient, return linear easing\n    if (mX1 === mY1 && mX2 === mY2)\n        return noop;\n    const getTForX = (aX) => binarySubdivide(aX, 0, 1, mX1, mX2);\n    // If animation is at start/end, return t without easing\n    return (t) => t === 0 || t === 1 ? t : calcBezier(getTForX(t), mY1, mY2);\n}\n\nexport { cubicBezier };\n","// Accepts an easing function and returns a new one that outputs mirrored values for\n// the second half of the animation. Turns easeIn into easeInOut.\nconst mirrorEasing = (easing) => (p) => p <= 0.5 ? easing(2 * p) / 2 : (2 - easing(2 * (1 - p))) / 2;\n\nexport { mirrorEasing };\n","// Accepts an easing function and returns a new one that outputs reversed values.\n// Turns easeIn into easeOut.\nconst reverseEasing = (easing) => (p) => 1 - easing(1 - p);\n\nexport { reverseEasing };\n","import { cubicBezier } from './cubic-bezier.mjs';\nimport { mirrorEasing } from './modifiers/mirror.mjs';\nimport { reverseEasing } from './modifiers/reverse.mjs';\n\nconst backOut = /*@__PURE__*/ cubicBezier(0.33, 1.53, 0.69, 0.99);\nconst backIn = /*@__PURE__*/ reverseEasing(backOut);\nconst backInOut = /*@__PURE__*/ mirrorEasing(backIn);\n\nexport { backIn, backInOut, backOut };\n","import { backIn } from './back.mjs';\n\nconst anticipate = (p) => (p *= 2) < 1 ? 0.5 * backIn(p) : 0.5 * (2 - Math.pow(2, -10 * (p - 1)));\n\nexport { anticipate };\n","import { mirrorEasing } from './modifiers/mirror.mjs';\nimport { reverseEasing } from './modifiers/reverse.mjs';\n\nconst circIn = (p) => 1 - Math.sin(Math.acos(p));\nconst circOut = reverseEasing(circIn);\nconst circInOut = mirrorEasing(circIn);\n\nexport { circIn, circInOut, circOut };\n","// If this number is a decimal, make it just five decimal places\n// to avoid exponents\nconst sanitize = (v) => Math.round(v * 100000) / 100000;\n\nexport { sanitize };\n","const floatRegex = /-?(?:\\d+(?:\\.\\d+)?|\\.\\d+)/gu;\n\nexport { floatRegex };\n","function isNullish(v) {\n    return v == null;\n}\n\nexport { isNullish };\n","const singleColorRegex = /^(?:#[\\da-f]{3,8}|(?:rgb|hsl)a?\\((?:-?[\\d.]+%?[,\\s]+){2}-?[\\d.]+%?\\s*(?:[,/]\\s*)?(?:\\b\\d+(?:\\.\\d+)?|\\.\\d+)?%?\\))$/iu;\n\nexport { singleColorRegex };\n","import { floatRegex } from '../utils/float-regex.mjs';\nimport { isNullish } from '../utils/is-nullish.mjs';\nimport { singleColorRegex } from '../utils/single-color-regex.mjs';\n\n/**\n * Returns true if the provided string is a color, ie rgba(0,0,0,0) or #000,\n * but false if a number or multiple colors\n */\nconst isColorString = (type, testProp) => (v) => {\n    return Boolean((typeof v === \"string\" &&\n        singleColorRegex.test(v) &&\n        v.startsWith(type)) ||\n        (testProp &&\n            !isNullish(v) &&\n            Object.prototype.hasOwnProperty.call(v, testProp)));\n};\nconst splitColor = (aName, bName, cName) => (v) => {\n    if (typeof v !== \"string\")\n        return v;\n    const [a, b, c, alpha] = v.match(floatRegex);\n    return {\n        [aName]: parseFloat(a),\n        [bName]: parseFloat(b),\n        [cName]: parseFloat(c),\n        alpha: alpha !== undefined ? parseFloat(alpha) : 1,\n    };\n};\n\nexport { isColorString, splitColor };\n","import { clamp } from '../../../utils/clamp.mjs';\nimport { alpha, number } from '../numbers/index.mjs';\nimport { sanitize } from '../utils/sanitize.mjs';\nimport { isColorString, splitColor } from './utils.mjs';\n\nconst clampRgbUnit = (v) => clamp(0, 255, v);\nconst rgbUnit = {\n    ...number,\n    transform: (v) => Math.round(clampRgbUnit(v)),\n};\nconst rgba = {\n    test: /*@__PURE__*/ isColorString(\"rgb\", \"red\"),\n    parse: /*@__PURE__*/ splitColor(\"red\", \"green\", \"blue\"),\n    transform: ({ red, green, blue, alpha: alpha$1 = 1 }) => \"rgba(\" +\n        rgbUnit.transform(red) +\n        \", \" +\n        rgbUnit.transform(green) +\n        \", \" +\n        rgbUnit.transform(blue) +\n        \", \" +\n        sanitize(alpha.transform(alpha$1)) +\n        \")\",\n};\n\nexport { rgbUnit, rgba };\n","import { rgba } from './rgba.mjs';\nimport { isColorString } from './utils.mjs';\n\nfunction parseHex(v) {\n    let r = \"\";\n    let g = \"\";\n    let b = \"\";\n    let a = \"\";\n    // If we have 6 characters, ie #FF0000\n    if (v.length > 5) {\n        r = v.substring(1, 3);\n        g = v.substring(3, 5);\n        b = v.substring(5, 7);\n        a = v.substring(7, 9);\n        // Or we have 3 characters, ie #F00\n    }\n    else {\n        r = v.substring(1, 2);\n        g = v.substring(2, 3);\n        b = v.substring(3, 4);\n        a = v.substring(4, 5);\n        r += r;\n        g += g;\n        b += b;\n        a += a;\n    }\n    return {\n        red: parseInt(r, 16),\n        green: parseInt(g, 16),\n        blue: parseInt(b, 16),\n        alpha: a ? parseInt(a, 16) / 255 : 1,\n    };\n}\nconst hex = {\n    test: /*@__PURE__*/ isColorString(\"#\"),\n    parse: parseHex,\n    transform: rgba.transform,\n};\n\nexport { hex };\n","import { alpha } from '../numbers/index.mjs';\nimport { percent } from '../numbers/units.mjs';\nimport { sanitize } from '../utils/sanitize.mjs';\nimport { isColorString, splitColor } from './utils.mjs';\n\nconst hsla = {\n    test: /*@__PURE__*/ isColorString(\"hsl\", \"hue\"),\n    parse: /*@__PURE__*/ splitColor(\"hue\", \"saturation\", \"lightness\"),\n    transform: ({ hue, saturation, lightness, alpha: alpha$1 = 1 }) => {\n        return (\"hsla(\" +\n            Math.round(hue) +\n            \", \" +\n            percent.transform(sanitize(saturation)) +\n            \", \" +\n            percent.transform(sanitize(lightness)) +\n            \", \" +\n            sanitize(alpha.transform(alpha$1)) +\n            \")\");\n    },\n};\n\nexport { hsla };\n","import { hex } from './hex.mjs';\nimport { hsla } from './hsla.mjs';\nimport { rgba } from './rgba.mjs';\n\nconst color = {\n    test: (v) => rgba.test(v) || hex.test(v) || hsla.test(v),\n    parse: (v) => {\n        if (rgba.test(v)) {\n            return rgba.parse(v);\n        }\n        else if (hsla.test(v)) {\n            return hsla.parse(v);\n        }\n        else {\n            return hex.parse(v);\n        }\n    },\n    transform: (v) => {\n        return typeof v === \"string\"\n            ? v\n            : v.hasOwnProperty(\"red\")\n                ? rgba.transform(v)\n                : hsla.transform(v);\n    },\n};\n\nexport { color };\n","const colorRegex = /(?:#[\\da-f]{3,8}|(?:rgb|hsl)a?\\((?:-?[\\d.]+%?[,\\s]+){2}-?[\\d.]+%?\\s*(?:[,/]\\s*)?(?:\\b\\d+(?:\\.\\d+)?|\\.\\d+)?%?\\))/giu;\n\nexport { colorRegex };\n","import { color } from '../color/index.mjs';\nimport { colorRegex } from '../utils/color-regex.mjs';\nimport { floatRegex } from '../utils/float-regex.mjs';\nimport { sanitize } from '../utils/sanitize.mjs';\n\nfunction test(v) {\n    var _a, _b;\n    return (isNaN(v) &&\n        typeof v === \"string\" &&\n        (((_a = v.match(floatRegex)) === null || _a === void 0 ? void 0 : _a.length) || 0) +\n            (((_b = v.match(colorRegex)) === null || _b === void 0 ? void 0 : _b.length) || 0) >\n            0);\n}\nconst NUMBER_TOKEN = \"number\";\nconst COLOR_TOKEN = \"color\";\nconst VAR_TOKEN = \"var\";\nconst VAR_FUNCTION_TOKEN = \"var(\";\nconst SPLIT_TOKEN = \"${}\";\n// this regex consists of the `singleCssVariableRegex|rgbHSLValueRegex|digitRegex`\nconst complexRegex = /var\\s*\\(\\s*--(?:[\\w-]+\\s*|[\\w-]+\\s*,(?:\\s*[^)(\\s]|\\s*\\((?:[^)(]|\\([^)(]*\\))*\\))+\\s*)\\)|#[\\da-f]{3,8}|(?:rgb|hsl)a?\\((?:-?[\\d.]+%?[,\\s]+){2}-?[\\d.]+%?\\s*(?:[,/]\\s*)?(?:\\b\\d+(?:\\.\\d+)?|\\.\\d+)?%?\\)|-?(?:\\d+(?:\\.\\d+)?|\\.\\d+)/giu;\nfunction analyseComplexValue(value) {\n    const originalValue = value.toString();\n    const values = [];\n    const indexes = {\n        color: [],\n        number: [],\n        var: [],\n    };\n    const types = [];\n    let i = 0;\n    const tokenised = originalValue.replace(complexRegex, (parsedValue) => {\n        if (color.test(parsedValue)) {\n            indexes.color.push(i);\n            types.push(COLOR_TOKEN);\n            values.push(color.parse(parsedValue));\n        }\n        else if (parsedValue.startsWith(VAR_FUNCTION_TOKEN)) {\n            indexes.var.push(i);\n            types.push(VAR_TOKEN);\n            values.push(parsedValue);\n        }\n        else {\n            indexes.number.push(i);\n            types.push(NUMBER_TOKEN);\n            values.push(parseFloat(parsedValue));\n        }\n        ++i;\n        return SPLIT_TOKEN;\n    });\n    const split = tokenised.split(SPLIT_TOKEN);\n    return { values, split, indexes, types };\n}\nfunction parseComplexValue(v) {\n    return analyseComplexValue(v).values;\n}\nfunction createTransformer(source) {\n    const { split, types } = analyseComplexValue(source);\n    const numSections = split.length;\n    return (v) => {\n        let output = \"\";\n        for (let i = 0; i < numSections; i++) {\n            output += split[i];\n            if (v[i] !== undefined) {\n                const type = types[i];\n                if (type === NUMBER_TOKEN) {\n                    output += sanitize(v[i]);\n                }\n                else if (type === COLOR_TOKEN) {\n                    output += color.transform(v[i]);\n                }\n                else {\n                    output += v[i];\n                }\n            }\n        }\n        return output;\n    };\n}\nconst convertNumbersToZero = (v) => typeof v === \"number\" ? 0 : v;\nfunction getAnimatableNone(v) {\n    const parsed = parseComplexValue(v);\n    const transformer = createTransformer(v);\n    return transformer(parsed.map(convertNumbersToZero));\n}\nconst complex = {\n    test,\n    parse: parseComplexValue,\n    createTransformer,\n    getAnimatableNone,\n};\n\nexport { analyseComplexValue, complex };\n","import { number } from '../../../value/types/numbers/index.mjs';\nimport { px } from '../../../value/types/numbers/units.mjs';\nimport { transformPropOrder } from '../../html/utils/keys-transform.mjs';\n\nconst isNumOrPxType = (v) => v === number || v === px;\nconst getPosFromMatrix = (matrix, pos) => parseFloat(matrix.split(\", \")[pos]);\nconst getTranslateFromMatrix = (pos2, pos3) => (_bbox, { transform }) => {\n    if (transform === \"none\" || !transform)\n        return 0;\n    const matrix3d = transform.match(/^matrix3d\\((.+)\\)$/u);\n    if (matrix3d) {\n        return getPosFromMatrix(matrix3d[1], pos3);\n    }\n    else {\n        const matrix = transform.match(/^matrix\\((.+)\\)$/u);\n        if (matrix) {\n            return getPosFromMatrix(matrix[1], pos2);\n        }\n        else {\n            return 0;\n        }\n    }\n};\nconst transformKeys = new Set([\"x\", \"y\", \"z\"]);\nconst nonTranslationalTransformKeys = transformPropOrder.filter((key) => !transformKeys.has(key));\nfunction removeNonTranslationalTransform(visualElement) {\n    const removedTransforms = [];\n    nonTranslationalTransformKeys.forEach((key) => {\n        const value = visualElement.getValue(key);\n        if (value !== undefined) {\n            removedTransforms.push([key, value.get()]);\n            value.set(key.startsWith(\"scale\") ? 1 : 0);\n        }\n    });\n    return removedTransforms;\n}\nconst positionalValues = {\n    // Dimensions\n    width: ({ x }, { paddingLeft = \"0\", paddingRight = \"0\" }) => x.max - x.min - parseFloat(paddingLeft) - parseFloat(paddingRight),\n    height: ({ y }, { paddingTop = \"0\", paddingBottom = \"0\" }) => y.max - y.min - parseFloat(paddingTop) - parseFloat(paddingBottom),\n    top: (_bbox, { top }) => parseFloat(top),\n    left: (_bbox, { left }) => parseFloat(left),\n    bottom: ({ y }, { top }) => parseFloat(top) + (y.max - y.min),\n    right: ({ x }, { left }) => parseFloat(left) + (x.max - x.min),\n    // Transform\n    x: getTranslateFromMatrix(4, 13),\n    y: getTranslateFromMatrix(5, 14),\n};\n// Alias translate longform names\npositionalValues.translateX = positionalValues.x;\npositionalValues.translateY = positionalValues.y;\n\nexport { isNumOrPxType, positionalValues, removeNonTranslationalTransform };\n","import { removeNonTranslationalTransform } from '../dom/utils/unit-conversion.mjs';\nimport { frame } from '../../frameloop/frame.mjs';\n\nconst toResolve = new Set();\nlet isScheduled = false;\nlet anyNeedsMeasurement = false;\nfunction measureAllKeyframes() {\n    if (anyNeedsMeasurement) {\n        const resolversToMeasure = Array.from(toResolve).filter((resolver) => resolver.needsMeasurement);\n        const elementsToMeasure = new Set(resolversToMeasure.map((resolver) => resolver.element));\n        const transformsToRestore = new Map();\n        /**\n         * Write pass\n         * If we're measuring elements we want to remove bounding box-changing transforms.\n         */\n        elementsToMeasure.forEach((element) => {\n            const removedTransforms = removeNonTranslationalTransform(element);\n            if (!removedTransforms.length)\n                return;\n            transformsToRestore.set(element, removedTransforms);\n            element.render();\n        });\n        // Read\n        resolversToMeasure.forEach((resolver) => resolver.measureInitialState());\n        // Write\n        elementsToMeasure.forEach((element) => {\n            element.render();\n            const restore = transformsToRestore.get(element);\n            if (restore) {\n                restore.forEach(([key, value]) => {\n                    var _a;\n                    (_a = element.getValue(key)) === null || _a === void 0 ? void 0 : _a.set(value);\n                });\n            }\n        });\n        // Read\n        resolversToMeasure.forEach((resolver) => resolver.measureEndState());\n        // Write\n        resolversToMeasure.forEach((resolver) => {\n            if (resolver.suspendedScrollY !== undefined) {\n                window.scrollTo(0, resolver.suspendedScrollY);\n            }\n        });\n    }\n    anyNeedsMeasurement = false;\n    isScheduled = false;\n    toResolve.forEach((resolver) => resolver.complete());\n    toResolve.clear();\n}\nfunction readAllKeyframes() {\n    toResolve.forEach((resolver) => {\n        resolver.readKeyframes();\n        if (resolver.needsMeasurement) {\n            anyNeedsMeasurement = true;\n        }\n    });\n}\nfunction flushKeyframeResolvers() {\n    readAllKeyframes();\n    measureAllKeyframes();\n}\nclass KeyframeResolver {\n    constructor(unresolvedKeyframes, onComplete, name, motionValue, element, isAsync = false) {\n        /**\n         * Track whether this resolver has completed. Once complete, it never\n         * needs to attempt keyframe resolution again.\n         */\n        this.isComplete = false;\n        /**\n         * Track whether this resolver is async. If it is, it'll be added to the\n         * resolver queue and flushed in the next frame. Resolvers that aren't going\n         * to trigger read/write thrashing don't need to be async.\n         */\n        this.isAsync = false;\n        /**\n         * Track whether this resolver needs to perform a measurement\n         * to resolve its keyframes.\n         */\n        this.needsMeasurement = false;\n        /**\n         * Track whether this resolver is currently scheduled to resolve\n         * to allow it to be cancelled and resumed externally.\n         */\n        this.isScheduled = false;\n        this.unresolvedKeyframes = [...unresolvedKeyframes];\n        this.onComplete = onComplete;\n        this.name = name;\n        this.motionValue = motionValue;\n        this.element = element;\n        this.isAsync = isAsync;\n    }\n    scheduleResolve() {\n        this.isScheduled = true;\n        if (this.isAsync) {\n            toResolve.add(this);\n            if (!isScheduled) {\n                isScheduled = true;\n                frame.read(readAllKeyframes);\n                frame.resolveKeyframes(measureAllKeyframes);\n            }\n        }\n        else {\n            this.readKeyframes();\n            this.complete();\n        }\n    }\n    readKeyframes() {\n        const { unresolvedKeyframes, name, element, motionValue } = this;\n        /**\n         * If a keyframe is null, we hydrate it either by reading it from\n         * the instance, or propagating from previous keyframes.\n         */\n        for (let i = 0; i < unresolvedKeyframes.length; i++) {\n            if (unresolvedKeyframes[i] === null) {\n                /**\n                 * If the first keyframe is null, we need to find its value by sampling the element\n                 */\n                if (i === 0) {\n                    const currentValue = motionValue === null || motionValue === void 0 ? void 0 : motionValue.get();\n                    const finalKeyframe = unresolvedKeyframes[unresolvedKeyframes.length - 1];\n                    if (currentValue !== undefined) {\n                        unresolvedKeyframes[0] = currentValue;\n                    }\n                    else if (element && name) {\n                        const valueAsRead = element.readValue(name, finalKeyframe);\n                        if (valueAsRead !== undefined && valueAsRead !== null) {\n                            unresolvedKeyframes[0] = valueAsRead;\n                        }\n                    }\n                    if (unresolvedKeyframes[0] === undefined) {\n                        unresolvedKeyframes[0] = finalKeyframe;\n                    }\n                    if (motionValue && currentValue === undefined) {\n                        motionValue.set(unresolvedKeyframes[0]);\n                    }\n                }\n                else {\n                    unresolvedKeyframes[i] = unresolvedKeyframes[i - 1];\n                }\n            }\n        }\n    }\n    setFinalKeyframe() { }\n    measureInitialState() { }\n    renderEndStyles() { }\n    measureEndState() { }\n    complete() {\n        this.isComplete = true;\n        this.onComplete(this.unresolvedKeyframes, this.finalKeyframe);\n        toResolve.delete(this);\n    }\n    cancel() {\n        if (!this.isComplete) {\n            this.isScheduled = false;\n            toResolve.delete(this);\n        }\n    }\n    resume() {\n        if (!this.isComplete)\n            this.scheduleResolve();\n    }\n}\n\nexport { KeyframeResolver, flushKeyframeResolvers };\n","import { complex } from '../../value/types/complex/index.mjs';\n\n/**\n * Check if a value is animatable. Examples:\n *\n * : 100, \"100px\", \"#fff\"\n * : \"block\", \"url(2.jpg)\"\n * @param value\n *\n * @internal\n */\nconst isAnimatable = (value, name) => {\n    // If the list of keys tat might be non-animatable grows, replace with Set\n    if (name === \"zIndex\")\n        return false;\n    // If it's a number or a keyframes array, we can animate it. We might at some point\n    // need to do a deep isAnimatable check of keyframes, or let Popmotion handle this,\n    // but for now lets leave it like this for performance reasons\n    if (typeof value === \"number\" || Array.isArray(value))\n        return true;\n    if (typeof value === \"string\" && // It's animatable if we have a string\n        (complex.test(value) || value === \"0\") && // And it contains numbers and/or colors\n        !value.startsWith(\"url(\") // Unless it starts with \"url(\"\n    ) {\n        return true;\n    }\n    return false;\n};\n\nexport { isAnimatable };\n","import { warning } from '../../../../../../motion-utils/dist/es/errors.mjs';\nimport { isGenerator } from '../../../../../../motion-dom/dist/es/animation/generators/utils/is-generator.mjs';\nimport { isAnimatable } from '../../utils/is-animatable.mjs';\n\nfunction hasKeyframesChanged(keyframes) {\n    const current = keyframes[0];\n    if (keyframes.length === 1)\n        return true;\n    for (let i = 0; i < keyframes.length; i++) {\n        if (keyframes[i] !== current)\n            return true;\n    }\n}\nfunction canAnimate(keyframes, name, type, velocity) {\n    /**\n     * Check if we're able to animate between the start and end keyframes,\n     * and throw a warning if we're attempting to animate between one that's\n     * animatable and another that isn't.\n     */\n    const originKeyframe = keyframes[0];\n    if (originKeyframe === null)\n        return false;\n    /**\n     * These aren't traditionally animatable but we do support them.\n     * In future we could look into making this more generic or replacing\n     * this function with mix() === mixImmediate\n     */\n    if (name === \"display\" || name === \"visibility\")\n        return true;\n    const targetKeyframe = keyframes[keyframes.length - 1];\n    const isOriginAnimatable = isAnimatable(originKeyframe, name);\n    const isTargetAnimatable = isAnimatable(targetKeyframe, name);\n    warning(isOriginAnimatable === isTargetAnimatable, `You are trying to animate ${name} from \"${originKeyframe}\" to \"${targetKeyframe}\". ${originKeyframe} is not an animatable value - to enable this animation set ${originKeyframe} to a value animatable to ${targetKeyframe} via the \\`style\\` property.`);\n    // Always skip if any of these are true\n    if (!isOriginAnimatable || !isTargetAnimatable) {\n        return false;\n    }\n    return (hasKeyframesChanged(keyframes) ||\n        ((type === \"spring\" || isGenerator(type)) && velocity));\n}\n\nexport { canAnimate };\n","const isNotNull = (value) => value !== null;\nfunction getFinalKeyframe(keyframes, { repeat, repeatType = \"loop\" }, finalKeyframe) {\n    const resolvedKeyframes = keyframes.filter(isNotNull);\n    const index = repeat && repeatType !== \"loop\" && repeat % 2 === 1\n        ? 0\n        : resolvedKeyframes.length - 1;\n    return !index || finalKeyframe === undefined\n        ? resolvedKeyframes[index]\n        : finalKeyframe;\n}\n\nexport { getFinalKeyframe };\n","import { time } from '../../frameloop/sync-time.mjs';\nimport { flushKeyframeResolvers } from '../../render/utils/KeyframesResolver.mjs';\nimport { instantAnimationState } from '../../utils/use-instant-transition-state.mjs';\nimport { canAnimate } from './utils/can-animate.mjs';\nimport { getFinalKeyframe } from './waapi/utils/get-final-keyframe.mjs';\n\n/**\n * Maximum time allowed between an animation being created and it being\n * resolved for us to use the latter as the start time.\n *\n * This is to ensure that while we prefer to \"start\" an animation as soon\n * as it's triggered, we also want to avoid a visual jump if there's a big delay\n * between these two moments.\n */\nconst MAX_RESOLVE_DELAY = 40;\nclass BaseAnimation {\n    constructor({ autoplay = true, delay = 0, type = \"keyframes\", repeat = 0, repeatDelay = 0, repeatType = \"loop\", ...options }) {\n        // Track whether the animation has been stopped. Stopped animations won't restart.\n        this.isStopped = false;\n        this.hasAttemptedResolve = false;\n        this.createdAt = time.now();\n        this.options = {\n            autoplay,\n            delay,\n            type,\n            repeat,\n            repeatDelay,\n            repeatType,\n            ...options,\n        };\n        this.updateFinishedPromise();\n    }\n    /**\n     * This method uses the createdAt and resolvedAt to calculate the\n     * animation startTime. *Ideally*, we would use the createdAt time as t=0\n     * as the following frame would then be the first frame of the animation in\n     * progress, which would feel snappier.\n     *\n     * However, if there's a delay (main thread work) between the creation of\n     * the animation and the first commited frame, we prefer to use resolvedAt\n     * to avoid a sudden jump into the animation.\n     */\n    calcStartTime() {\n        if (!this.resolvedAt)\n            return this.createdAt;\n        return this.resolvedAt - this.createdAt > MAX_RESOLVE_DELAY\n            ? this.resolvedAt\n            : this.createdAt;\n    }\n    /**\n     * A getter for resolved data. If keyframes are not yet resolved, accessing\n     * this.resolved will synchronously flush all pending keyframe resolvers.\n     * This is a deoptimisation, but at its worst still batches read/writes.\n     */\n    get resolved() {\n        if (!this._resolved && !this.hasAttemptedResolve) {\n            flushKeyframeResolvers();\n        }\n        return this._resolved;\n    }\n    /**\n     * A method to be called when the keyframes resolver completes. This method\n     * will check if its possible to run the animation and, if not, skip it.\n     * Otherwise, it will call initPlayback on the implementing class.\n     */\n    onKeyframesResolved(keyframes, finalKeyframe) {\n        this.resolvedAt = time.now();\n        this.hasAttemptedResolve = true;\n        const { name, type, velocity, delay, onComplete, onUpdate, isGenerator, } = this.options;\n        /**\n         * If we can't animate this value with the resolved keyframes\n         * then we should complete it immediately.\n         */\n        if (!isGenerator && !canAnimate(keyframes, name, type, velocity)) {\n            // Finish immediately\n            if (instantAnimationState.current || !delay) {\n                onUpdate &&\n                    onUpdate(getFinalKeyframe(keyframes, this.options, finalKeyframe));\n                onComplete && onComplete();\n                this.resolveFinishedPromise();\n                return;\n            }\n            // Finish after a delay\n            else {\n                this.options.duration = 0;\n            }\n        }\n        const resolvedAnimation = this.initPlayback(keyframes, finalKeyframe);\n        if (resolvedAnimation === false)\n            return;\n        this._resolved = {\n            keyframes,\n            finalKeyframe,\n            ...resolvedAnimation,\n        };\n        this.onPostResolved();\n    }\n    onPostResolved() { }\n    /**\n     * Allows the returned animation to be awaited or promise-chained. Currently\n     * resolves when the animation finishes at all but in a future update could/should\n     * reject if its cancels.\n     */\n    then(resolve, reject) {\n        return this.currentFinishedPromise.then(resolve, reject);\n    }\n    flatten() {\n        this.options.type = \"keyframes\";\n        this.options.ease = \"linear\";\n    }\n    updateFinishedPromise() {\n        this.currentFinishedPromise = new Promise((resolve) => {\n            this.resolveFinishedPromise = resolve;\n        });\n    }\n}\n\nexport { BaseAnimation };\n","/**\n * Implement a practical max duration for keyframe generation\n * to prevent infinite loops\n */\nconst maxGeneratorDuration = 20000;\nfunction calcGeneratorDuration(generator) {\n    let duration = 0;\n    const timeStep = 50;\n    let state = generator.next(duration);\n    while (!state.done && duration < maxGeneratorDuration) {\n        duration += timeStep;\n        state = generator.next(duration);\n    }\n    return duration >= maxGeneratorDuration ? Infinity : duration;\n}\n\nexport { calcGeneratorDuration, maxGeneratorDuration };\n","/*\n  Value in range from progress\n\n  Given a lower limit and an upper limit, we return the value within\n  that range as expressed by progress (usually a number from 0 to 1)\n\n  So progress = 0.5 would change\n\n  from -------- to\n\n  to\n\n  from ---- to\n\n  E.g. from = 10, to = 20, progress = 0.5 => 15\n\n  @param [number]: Lower limit of range\n  @param [number]: Upper limit of range\n  @param [number]: The progress between lower and upper limits expressed 0-1\n  @return [number]: Value as calculated from progress within range (not limited within range)\n*/\nconst mixNumber = (from, to, progress) => {\n    return from + (to - from) * progress;\n};\n\nexport { mixNumber };\n","// Adapted from https://gist.github.com/mjackson/5311256\nfunction hueToRgb(p, q, t) {\n    if (t < 0)\n        t += 1;\n    if (t > 1)\n        t -= 1;\n    if (t < 1 / 6)\n        return p + (q - p) * 6 * t;\n    if (t < 1 / 2)\n        return q;\n    if (t < 2 / 3)\n        return p + (q - p) * (2 / 3 - t) * 6;\n    return p;\n}\nfunction hslaToRgba({ hue, saturation, lightness, alpha }) {\n    hue /= 360;\n    saturation /= 100;\n    lightness /= 100;\n    let red = 0;\n    let green = 0;\n    let blue = 0;\n    if (!saturation) {\n        red = green = blue = lightness;\n    }\n    else {\n        const q = lightness < 0.5\n            ? lightness * (1 + saturation)\n            : lightness + saturation - lightness * saturation;\n        const p = 2 * lightness - q;\n        red = hueToRgb(p, q, hue + 1 / 3);\n        green = hueToRgb(p, q, hue);\n        blue = hueToRgb(p, q, hue - 1 / 3);\n    }\n    return {\n        red: Math.round(red * 255),\n        green: Math.round(green * 255),\n        blue: Math.round(blue * 255),\n        alpha,\n    };\n}\n\nexport { hslaToRgba };\n","function mixImmediate(a, b) {\n    return (p) => (p > 0 ? b : a);\n}\n\nexport { mixImmediate };\n","import { mixNumber } from './number.mjs';\nimport { warning } from '../../../../../motion-utils/dist/es/errors.mjs';\nimport { hslaToRgba } from '../hsla-to-rgba.mjs';\nimport { hex } from '../../value/types/color/hex.mjs';\nimport { rgba } from '../../value/types/color/rgba.mjs';\nimport { hsla } from '../../value/types/color/hsla.mjs';\nimport { mixImmediate } from './immediate.mjs';\n\n// Linear color space blending\n// Explained https://www.youtube.com/watch?v=LKnqECcg6Gw\n// Demonstrated http://codepen.io/osublake/pen/xGVVaN\nconst mixLinearColor = (from, to, v) => {\n    const fromExpo = from * from;\n    const expo = v * (to * to - fromExpo) + fromExpo;\n    return expo < 0 ? 0 : Math.sqrt(expo);\n};\nconst colorTypes = [hex, rgba, hsla];\nconst getColorType = (v) => colorTypes.find((type) => type.test(v));\nfunction asRGBA(color) {\n    const type = getColorType(color);\n    warning(Boolean(type), `'${color}' is not an animatable color. Use the equivalent color code instead.`);\n    if (!Boolean(type))\n        return false;\n    let model = type.parse(color);\n    if (type === hsla) {\n        // TODO Remove this cast - needed since Motion's stricter typing\n        model = hslaToRgba(model);\n    }\n    return model;\n}\nconst mixColor = (from, to) => {\n    const fromRGBA = asRGBA(from);\n    const toRGBA = asRGBA(to);\n    if (!fromRGBA || !toRGBA) {\n        return mixImmediate(from, to);\n    }\n    const blended = { ...fromRGBA };\n    return (v) => {\n        blended.red = mixLinearColor(fromRGBA.red, toRGBA.red, v);\n        blended.green = mixLinearColor(fromRGBA.green, toRGBA.green, v);\n        blended.blue = mixLinearColor(fromRGBA.blue, toRGBA.blue, v);\n        blended.alpha = mixNumber(fromRGBA.alpha, toRGBA.alpha, v);\n        return rgba.transform(blended);\n    };\n};\n\nexport { mixColor, mixLinearColor };\n","/**\n * Pipe\n * Compose other transformers to run linearily\n * pipe(min(20), max(40))\n * @param  {...functions} transformers\n * @return {function}\n */\nconst combineFunctions = (a, b) => (v) => b(a(v));\nconst pipe = (...transformers) => transformers.reduce(combineFunctions);\n\nexport { pipe };\n","const invisibleValues = new Set([\"none\", \"hidden\"]);\n/**\n * Returns a function that, when provided a progress value between 0 and 1,\n * will return the \"none\" or \"hidden\" string only when the progress is that of\n * the origin or target.\n */\nfunction mixVisibility(origin, target) {\n    if (invisibleValues.has(origin)) {\n        return (p) => (p <= 0 ? origin : target);\n    }\n    else {\n        return (p) => (p >= 1 ? target : origin);\n    }\n}\n\nexport { invisibleValues, mixVisibility };\n","import { mixNumber as mixNumber$1 } from './number.mjs';\nimport { mixColor } from './color.mjs';\nimport { pipe } from '../pipe.mjs';\nimport { warning } from '../../../../../motion-utils/dist/es/errors.mjs';\nimport { color } from '../../value/types/color/index.mjs';\nimport { complex, analyseComplexValue } from '../../value/types/complex/index.mjs';\nimport { isCSSVariableToken } from '../../render/dom/utils/is-css-variable.mjs';\nimport { invisibleValues, mixVisibility } from './visibility.mjs';\nimport { mixImmediate } from './immediate.mjs';\n\nfunction mixNumber(a, b) {\n    return (p) => mixNumber$1(a, b, p);\n}\nfunction getMixer(a) {\n    if (typeof a === \"number\") {\n        return mixNumber;\n    }\n    else if (typeof a === \"string\") {\n        return isCSSVariableToken(a)\n            ? mixImmediate\n            : color.test(a)\n                ? mixColor\n                : mixComplex;\n    }\n    else if (Array.isArray(a)) {\n        return mixArray;\n    }\n    else if (typeof a === \"object\") {\n        return color.test(a) ? mixColor : mixObject;\n    }\n    return mixImmediate;\n}\nfunction mixArray(a, b) {\n    const output = [...a];\n    const numValues = output.length;\n    const blendValue = a.map((v, i) => getMixer(v)(v, b[i]));\n    return (p) => {\n        for (let i = 0; i < numValues; i++) {\n            output[i] = blendValue[i](p);\n        }\n        return output;\n    };\n}\nfunction mixObject(a, b) {\n    const output = { ...a, ...b };\n    const blendValue = {};\n    for (const key in output) {\n        if (a[key] !== undefined && b[key] !== undefined) {\n            blendValue[key] = getMixer(a[key])(a[key], b[key]);\n        }\n    }\n    return (v) => {\n        for (const key in blendValue) {\n            output[key] = blendValue[key](v);\n        }\n        return output;\n    };\n}\nfunction matchOrder(origin, target) {\n    var _a;\n    const orderedOrigin = [];\n    const pointers = { color: 0, var: 0, number: 0 };\n    for (let i = 0; i < target.values.length; i++) {\n        const type = target.types[i];\n        const originIndex = origin.indexes[type][pointers[type]];\n        const originValue = (_a = origin.values[originIndex]) !== null && _a !== void 0 ? _a : 0;\n        orderedOrigin[i] = originValue;\n        pointers[type]++;\n    }\n    return orderedOrigin;\n}\nconst mixComplex = (origin, target) => {\n    const template = complex.createTransformer(target);\n    const originStats = analyseComplexValue(origin);\n    const targetStats = analyseComplexValue(target);\n    const canInterpolate = originStats.indexes.var.length === targetStats.indexes.var.length &&\n        originStats.indexes.color.length === targetStats.indexes.color.length &&\n        originStats.indexes.number.length >= targetStats.indexes.number.length;\n    if (canInterpolate) {\n        if ((invisibleValues.has(origin) &&\n            !targetStats.values.length) ||\n            (invisibleValues.has(target) &&\n                !originStats.values.length)) {\n            return mixVisibility(origin, target);\n        }\n        return pipe(mixArray(matchOrder(originStats, targetStats), targetStats.values), template);\n    }\n    else {\n        warning(true, `Complex values '${origin}' and '${target}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`);\n        return mixImmediate(origin, target);\n    }\n};\n\nexport { getMixer, mixArray, mixComplex, mixObject };\n","import { getMixer } from './complex.mjs';\nimport { mixNumber } from './number.mjs';\n\nfunction mix(from, to, p) {\n    if (typeof from === \"number\" &&\n        typeof to === \"number\" &&\n        typeof p === \"number\") {\n        return mixNumber(from, to, p);\n    }\n    const mixer = getMixer(from);\n    return mixer(from, to);\n}\n\nexport { mix };\n","import { velocityPerSecond } from '../../../utils/velocity-per-second.mjs';\n\nconst velocitySampleDuration = 5; // ms\nfunction calcGeneratorVelocity(resolveValue, t, current) {\n    const prevT = Math.max(t - velocitySampleDuration, 0);\n    return velocityPerSecond(current - resolveValue(prevT), t - prevT);\n}\n\nexport { calcGeneratorVelocity };\n","const springDefaults = {\n    // Default spring physics\n    stiffness: 100,\n    damping: 10,\n    mass: 1.0,\n    velocity: 0.0,\n    // Default duration/bounce-based options\n    duration: 800, // in ms\n    bounce: 0.3,\n    visualDuration: 0.3, // in seconds\n    // Rest thresholds\n    restSpeed: {\n        granular: 0.01,\n        default: 2,\n    },\n    restDelta: {\n        granular: 0.005,\n        default: 0.5,\n    },\n    // Limits\n    minDuration: 0.01, // in seconds\n    maxDuration: 10.0, // in seconds\n    minDamping: 0.05,\n    maxDamping: 1,\n};\n\nexport { springDefaults };\n","import { warning } from '../../../../../../motion-utils/dist/es/errors.mjs';\nimport { secondsToMilliseconds, millisecondsToSeconds } from '../../../../../../motion-utils/dist/es/time-conversion.mjs';\nimport { clamp } from '../../../utils/clamp.mjs';\nimport { springDefaults } from './defaults.mjs';\n\nconst safeMin = 0.001;\nfunction findSpring({ duration = springDefaults.duration, bounce = springDefaults.bounce, velocity = springDefaults.velocity, mass = springDefaults.mass, }) {\n    let envelope;\n    let derivative;\n    warning(duration <= secondsToMilliseconds(springDefaults.maxDuration), \"Spring duration must be 10 seconds or less\");\n    let dampingRatio = 1 - bounce;\n    /**\n     * Restrict dampingRatio and duration to within acceptable ranges.\n     */\n    dampingRatio = clamp(springDefaults.minDamping, springDefaults.maxDamping, dampingRatio);\n    duration = clamp(springDefaults.minDuration, springDefaults.maxDuration, millisecondsToSeconds(duration));\n    if (dampingRatio < 1) {\n        /**\n         * Underdamped spring\n         */\n        envelope = (undampedFreq) => {\n            const exponentialDecay = undampedFreq * dampingRatio;\n            const delta = exponentialDecay * duration;\n            const a = exponentialDecay - velocity;\n            const b = calcAngularFreq(undampedFreq, dampingRatio);\n            const c = Math.exp(-delta);\n            return safeMin - (a / b) * c;\n        };\n        derivative = (undampedFreq) => {\n            const exponentialDecay = undampedFreq * dampingRatio;\n            const delta = exponentialDecay * duration;\n            const d = delta * velocity + velocity;\n            const e = Math.pow(dampingRatio, 2) * Math.pow(undampedFreq, 2) * duration;\n            const f = Math.exp(-delta);\n            const g = calcAngularFreq(Math.pow(undampedFreq, 2), dampingRatio);\n            const factor = -envelope(undampedFreq) + safeMin > 0 ? -1 : 1;\n            return (factor * ((d - e) * f)) / g;\n        };\n    }\n    else {\n        /**\n         * Critically-damped spring\n         */\n        envelope = (undampedFreq) => {\n            const a = Math.exp(-undampedFreq * duration);\n            const b = (undampedFreq - velocity) * duration + 1;\n            return -safeMin + a * b;\n        };\n        derivative = (undampedFreq) => {\n            const a = Math.exp(-undampedFreq * duration);\n            const b = (velocity - undampedFreq) * (duration * duration);\n            return a * b;\n        };\n    }\n    const initialGuess = 5 / duration;\n    const undampedFreq = approximateRoot(envelope, derivative, initialGuess);\n    duration = secondsToMilliseconds(duration);\n    if (isNaN(undampedFreq)) {\n        return {\n            stiffness: springDefaults.stiffness,\n            damping: springDefaults.damping,\n            duration,\n        };\n    }\n    else {\n        const stiffness = Math.pow(undampedFreq, 2) * mass;\n        return {\n            stiffness,\n            damping: dampingRatio * 2 * Math.sqrt(mass * stiffness),\n            duration,\n        };\n    }\n}\nconst rootIterations = 12;\nfunction approximateRoot(envelope, derivative, initialGuess) {\n    let result = initialGuess;\n    for (let i = 1; i < rootIterations; i++) {\n        result = result - envelope(result) / derivative(result);\n    }\n    return result;\n}\nfunction calcAngularFreq(undampedFreq, dampingRatio) {\n    return undampedFreq * Math.sqrt(1 - dampingRatio * dampingRatio);\n}\n\nexport { calcAngularFreq, findSpring };\n","import '../../../../../../motion-utils/dist/es/errors.mjs';\nimport { millisecondsToSeconds, secondsToMilliseconds } from '../../../../../../motion-utils/dist/es/time-conversion.mjs';\nimport { calcGeneratorDuration, maxGeneratorDuration } from '../../../../../../motion-dom/dist/es/animation/generators/utils/calc-duration.mjs';\nimport { generateLinearEasing } from '../../../../../../motion-dom/dist/es/animation/waapi/utils/linear.mjs';\nimport { clamp } from '../../../utils/clamp.mjs';\nimport { calcGeneratorVelocity } from '../utils/velocity.mjs';\nimport { springDefaults } from './defaults.mjs';\nimport { findSpring, calcAngularFreq } from './find.mjs';\n\nconst durationKeys = [\"duration\", \"bounce\"];\nconst physicsKeys = [\"stiffness\", \"damping\", \"mass\"];\nfunction isSpringType(options, keys) {\n    return keys.some((key) => options[key] !== undefined);\n}\nfunction getSpringOptions(options) {\n    let springOptions = {\n        velocity: springDefaults.velocity,\n        stiffness: springDefaults.stiffness,\n        damping: springDefaults.damping,\n        mass: springDefaults.mass,\n        isResolvedFromDuration: false,\n        ...options,\n    };\n    // stiffness/damping/mass overrides duration/bounce\n    if (!isSpringType(options, physicsKeys) &&\n        isSpringType(options, durationKeys)) {\n        if (options.visualDuration) {\n            const visualDuration = options.visualDuration;\n            const root = (2 * Math.PI) / (visualDuration * 1.2);\n            const stiffness = root * root;\n            const damping = 2 *\n                clamp(0.05, 1, 1 - (options.bounce || 0)) *\n                Math.sqrt(stiffness);\n            springOptions = {\n                ...springOptions,\n                mass: springDefaults.mass,\n                stiffness,\n                damping,\n            };\n        }\n        else {\n            const derived = findSpring(options);\n            springOptions = {\n                ...springOptions,\n                ...derived,\n                mass: springDefaults.mass,\n            };\n            springOptions.isResolvedFromDuration = true;\n        }\n    }\n    return springOptions;\n}\nfunction spring(optionsOrVisualDuration = springDefaults.visualDuration, bounce = springDefaults.bounce) {\n    const options = typeof optionsOrVisualDuration !== \"object\"\n        ? {\n            visualDuration: optionsOrVisualDuration,\n            keyframes: [0, 1],\n            bounce,\n        }\n        : optionsOrVisualDuration;\n    let { restSpeed, restDelta } = options;\n    const origin = options.keyframes[0];\n    const target = options.keyframes[options.keyframes.length - 1];\n    /**\n     * This is the Iterator-spec return value. We ensure it's mutable rather than using a generator\n     * to reduce GC during animation.\n     */\n    const state = { done: false, value: origin };\n    const { stiffness, damping, mass, duration, velocity, isResolvedFromDuration, } = getSpringOptions({\n        ...options,\n        velocity: -millisecondsToSeconds(options.velocity || 0),\n    });\n    const initialVelocity = velocity || 0.0;\n    const dampingRatio = damping / (2 * Math.sqrt(stiffness * mass));\n    const initialDelta = target - origin;\n    const undampedAngularFreq = millisecondsToSeconds(Math.sqrt(stiffness / mass));\n    /**\n     * If we're working on a granular scale, use smaller defaults for determining\n     * when the spring is finished.\n     *\n     * These defaults have been selected emprically based on what strikes a good\n     * ratio between feeling good and finishing as soon as changes are imperceptible.\n     */\n    const isGranularScale = Math.abs(initialDelta) < 5;\n    restSpeed || (restSpeed = isGranularScale\n        ? springDefaults.restSpeed.granular\n        : springDefaults.restSpeed.default);\n    restDelta || (restDelta = isGranularScale\n        ? springDefaults.restDelta.granular\n        : springDefaults.restDelta.default);\n    let resolveSpring;\n    if (dampingRatio < 1) {\n        const angularFreq = calcAngularFreq(undampedAngularFreq, dampingRatio);\n        // Underdamped spring\n        resolveSpring = (t) => {\n            const envelope = Math.exp(-dampingRatio * undampedAngularFreq * t);\n            return (target -\n                envelope *\n                    (((initialVelocity +\n                        dampingRatio * undampedAngularFreq * initialDelta) /\n                        angularFreq) *\n                        Math.sin(angularFreq * t) +\n                        initialDelta * Math.cos(angularFreq * t)));\n        };\n    }\n    else if (dampingRatio === 1) {\n        // Critically damped spring\n        resolveSpring = (t) => target -\n            Math.exp(-undampedAngularFreq * t) *\n                (initialDelta +\n                    (initialVelocity + undampedAngularFreq * initialDelta) * t);\n    }\n    else {\n        // Overdamped spring\n        const dampedAngularFreq = undampedAngularFreq * Math.sqrt(dampingRatio * dampingRatio - 1);\n        resolveSpring = (t) => {\n            const envelope = Math.exp(-dampingRatio * undampedAngularFreq * t);\n            // When performing sinh or cosh values can hit Infinity so we cap them here\n            const freqForT = Math.min(dampedAngularFreq * t, 300);\n            return (target -\n                (envelope *\n                    ((initialVelocity +\n                        dampingRatio * undampedAngularFreq * initialDelta) *\n                        Math.sinh(freqForT) +\n                        dampedAngularFreq *\n                            initialDelta *\n                            Math.cosh(freqForT))) /\n                    dampedAngularFreq);\n        };\n    }\n    const generator = {\n        calculatedDuration: isResolvedFromDuration ? duration || null : null,\n        next: (t) => {\n            const current = resolveSpring(t);\n            if (!isResolvedFromDuration) {\n                let currentVelocity = 0.0;\n                /**\n                 * We only need to calculate velocity for under-damped springs\n                 * as over- and critically-damped springs can't overshoot, so\n                 * checking only for displacement is enough.\n                 */\n                if (dampingRatio < 1) {\n                    currentVelocity =\n                        t === 0\n                            ? secondsToMilliseconds(initialVelocity)\n                            : calcGeneratorVelocity(resolveSpring, t, current);\n                }\n                const isBelowVelocityThreshold = Math.abs(currentVelocity) <= restSpeed;\n                const isBelowDisplacementThreshold = Math.abs(target - current) <= restDelta;\n                state.done =\n                    isBelowVelocityThreshold && isBelowDisplacementThreshold;\n            }\n            else {\n                state.done = t >= duration;\n            }\n            state.value = state.done ? target : current;\n            return state;\n        },\n        toString: () => {\n            const calculatedDuration = Math.min(calcGeneratorDuration(generator), maxGeneratorDuration);\n            const easing = generateLinearEasing((progress) => generator.next(calculatedDuration * progress).value, calculatedDuration, 30);\n            return calculatedDuration + \"ms \" + easing;\n        },\n    };\n    return generator;\n}\n\nexport { spring };\n","import { spring } from './spring/index.mjs';\nimport { calcGeneratorVelocity } from './utils/velocity.mjs';\n\nfunction inertia({ keyframes, velocity = 0.0, power = 0.8, timeConstant = 325, bounceDamping = 10, bounceStiffness = 500, modifyTarget, min, max, restDelta = 0.5, restSpeed, }) {\n    const origin = keyframes[0];\n    const state = {\n        done: false,\n        value: origin,\n    };\n    const isOutOfBounds = (v) => (min !== undefined && v < min) || (max !== undefined && v > max);\n    const nearestBoundary = (v) => {\n        if (min === undefined)\n            return max;\n        if (max === undefined)\n            return min;\n        return Math.abs(min - v) < Math.abs(max - v) ? min : max;\n    };\n    let amplitude = power * velocity;\n    const ideal = origin + amplitude;\n    const target = modifyTarget === undefined ? ideal : modifyTarget(ideal);\n    /**\n     * If the target has changed we need to re-calculate the amplitude, otherwise\n     * the animation will start from the wrong position.\n     */\n    if (target !== ideal)\n        amplitude = target - origin;\n    const calcDelta = (t) => -amplitude * Math.exp(-t / timeConstant);\n    const calcLatest = (t) => target + calcDelta(t);\n    const applyFriction = (t) => {\n        const delta = calcDelta(t);\n        const latest = calcLatest(t);\n        state.done = Math.abs(delta) <= restDelta;\n        state.value = state.done ? target : latest;\n    };\n    /**\n     * Ideally this would resolve for t in a stateless way, we could\n     * do that by always precalculating the animation but as we know\n     * this will be done anyway we can assume that spring will\n     * be discovered during that.\n     */\n    let timeReachedBoundary;\n    let spring$1;\n    const checkCatchBoundary = (t) => {\n        if (!isOutOfBounds(state.value))\n            return;\n        timeReachedBoundary = t;\n        spring$1 = spring({\n            keyframes: [state.value, nearestBoundary(state.value)],\n            velocity: calcGeneratorVelocity(calcLatest, t, state.value), // TODO: This should be passing * 1000\n            damping: bounceDamping,\n            stiffness: bounceStiffness,\n            restDelta,\n            restSpeed,\n        });\n    };\n    checkCatchBoundary(0);\n    return {\n        calculatedDuration: null,\n        next: (t) => {\n            /**\n             * We need to resolve the friction to figure out if we need a\n             * spring but we don't want to do this twice per frame. So here\n             * we flag if we updated for this frame and later if we did\n             * we can skip doing it again.\n             */\n            let hasUpdatedFrame = false;\n            if (!spring$1 && timeReachedBoundary === undefined) {\n                hasUpdatedFrame = true;\n                applyFriction(t);\n                checkCatchBoundary(t);\n            }\n            /**\n             * If we have a spring and the provided t is beyond the moment the friction\n             * animation crossed the min/max boundary, use the spring.\n             */\n            if (timeReachedBoundary !== undefined && t >= timeReachedBoundary) {\n                return spring$1.next(t - timeReachedBoundary);\n            }\n            else {\n                !hasUpdatedFrame && applyFriction(t);\n                return state;\n            }\n        },\n    };\n}\n\nexport { inertia };\n","import { cubicBezier } from './cubic-bezier.mjs';\n\nconst easeIn = /*@__PURE__*/ cubicBezier(0.42, 0, 1, 1);\nconst easeOut = /*@__PURE__*/ cubicBezier(0, 0, 0.58, 1);\nconst easeInOut = /*@__PURE__*/ cubicBezier(0.42, 0, 0.58, 1);\n\nexport { easeIn, easeInOut, easeOut };\n","const isEasingArray = (ease) => {\n    return Array.isArray(ease) && typeof ease[0] !== \"number\";\n};\n\nexport { isEasingArray };\n","import { invariant } from '../../../../../motion-utils/dist/es/errors.mjs';\nimport { noop } from '../../../../../motion-utils/dist/es/noop.mjs';\nimport { isBezierDefinition } from '../../../../../motion-dom/dist/es/utils/is-bezier-definition.mjs';\nimport { anticipate } from '../anticipate.mjs';\nimport { backIn, backInOut, backOut } from '../back.mjs';\nimport { circIn, circInOut, circOut } from '../circ.mjs';\nimport { cubicBezier } from '../cubic-bezier.mjs';\nimport { easeIn, easeInOut, easeOut } from '../ease.mjs';\n\nconst easingLookup = {\n    linear: noop,\n    easeIn,\n    easeInOut,\n    easeOut,\n    circIn,\n    circInOut,\n    circOut,\n    backIn,\n    backInOut,\n    backOut,\n    anticipate,\n};\nconst easingDefinitionToFunction = (definition) => {\n    if (isBezierDefinition(definition)) {\n        // If cubic bezier definition, create bezier curve\n        invariant(definition.length === 4, `Cubic bezier arrays must contain four numerical values.`);\n        const [x1, y1, x2, y2] = definition;\n        return cubicBezier(x1, y1, x2, y2);\n    }\n    else if (typeof definition === \"string\") {\n        // Else lookup from table\n        invariant(easingLookup[definition] !== undefined, `Invalid easing type '${definition}'`);\n        return easingLookup[definition];\n    }\n    return definition;\n};\n\nexport { easingDefinitionToFunction };\n","import { invariant } from '../../../../motion-utils/dist/es/errors.mjs';\nimport { noop } from '../../../../motion-utils/dist/es/noop.mjs';\nimport { progress } from '../../../../motion-utils/dist/es/progress.mjs';\nimport { clamp } from './clamp.mjs';\nimport { mix } from './mix/index.mjs';\nimport { pipe } from './pipe.mjs';\n\nfunction createMixers(output, ease, customMixer) {\n    const mixers = [];\n    const mixerFactory = customMixer || mix;\n    const numMixers = output.length - 1;\n    for (let i = 0; i < numMixers; i++) {\n        let mixer = mixerFactory(output[i], output[i + 1]);\n        if (ease) {\n            const easingFunction = Array.isArray(ease) ? ease[i] || noop : ease;\n            mixer = pipe(easingFunction, mixer);\n        }\n        mixers.push(mixer);\n    }\n    return mixers;\n}\n/**\n * Create a function that maps from a numerical input array to a generic output array.\n *\n * Accepts:\n *   - Numbers\n *   - Colors (hex, hsl, hsla, rgb, rgba)\n *   - Complex (combinations of one or more numbers or strings)\n *\n * ```jsx\n * const mixColor = interpolate([0, 1], ['#fff', '#000'])\n *\n * mixColor(0.5) // 'rgba(128, 128, 128, 1)'\n * ```\n *\n * TODO Revist this approach once we've moved to data models for values,\n * probably not needed to pregenerate mixer functions.\n *\n * @public\n */\nfunction interpolate(input, output, { clamp: isClamp = true, ease, mixer } = {}) {\n    const inputLength = input.length;\n    invariant(inputLength === output.length, \"Both input and output ranges must be the same length\");\n    /**\n     * If we're only provided a single input, we can just make a function\n     * that returns the output.\n     */\n    if (inputLength === 1)\n        return () => output[0];\n    if (inputLength === 2 && output[0] === output[1])\n        return () => output[1];\n    const isZeroDeltaRange = input[0] === input[1];\n    // If input runs highest -> lowest, reverse both arrays\n    if (input[0] > input[inputLength - 1]) {\n        input = [...input].reverse();\n        output = [...output].reverse();\n    }\n    const mixers = createMixers(output, ease, mixer);\n    const numMixers = mixers.length;\n    const interpolator = (v) => {\n        if (isZeroDeltaRange && v < input[0])\n            return output[0];\n        let i = 0;\n        if (numMixers > 1) {\n            for (; i < input.length - 2; i++) {\n                if (v < input[i + 1])\n                    break;\n            }\n        }\n        const progressInRange = progress(input[i], input[i + 1], v);\n        return mixers[i](progressInRange);\n    };\n    return isClamp\n        ? (v) => interpolator(clamp(input[0], input[inputLength - 1], v))\n        : interpolator;\n}\n\nexport { interpolate };\n","import '../../../../../motion-utils/dist/es/errors.mjs';\nimport { progress } from '../../../../../motion-utils/dist/es/progress.mjs';\nimport { mixNumber } from '../mix/number.mjs';\n\nfunction fillOffset(offset, remaining) {\n    const min = offset[offset.length - 1];\n    for (let i = 1; i <= remaining; i++) {\n        const offsetProgress = progress(0, remaining, i);\n        offset.push(mixNumber(min, 1, offsetProgress));\n    }\n}\n\nexport { fillOffset };\n","import { fillOffset } from './fill.mjs';\n\nfunction defaultOffset(arr) {\n    const offset = [0];\n    fillOffset(offset, arr.length - 1);\n    return offset;\n}\n\nexport { defaultOffset };\n","function convertOffsetToTimes(offset, duration) {\n    return offset.map((o) => o * duration);\n}\n\nexport { convertOffsetToTimes };\n","import { easeInOut } from '../../easing/ease.mjs';\nimport { isEasingArray } from '../../easing/utils/is-easing-array.mjs';\nimport { easingDefinitionToFunction } from '../../easing/utils/map.mjs';\nimport { interpolate } from '../../utils/interpolate.mjs';\nimport { defaultOffset } from '../../utils/offsets/default.mjs';\nimport { convertOffsetToTimes } from '../../utils/offsets/time.mjs';\n\nfunction defaultEasing(values, easing) {\n    return values.map(() => easing || easeInOut).splice(0, values.length - 1);\n}\nfunction keyframes({ duration = 300, keyframes: keyframeValues, times, ease = \"easeInOut\", }) {\n    /**\n     * Easing functions can be externally defined as strings. Here we convert them\n     * into actual functions.\n     */\n    const easingFunctions = isEasingArray(ease)\n        ? ease.map(easingDefinitionToFunction)\n        : easingDefinitionToFunction(ease);\n    /**\n     * This is the Iterator-spec return value. We ensure it's mutable rather than using a generator\n     * to reduce GC during animation.\n     */\n    const state = {\n        done: false,\n        value: keyframeValues[0],\n    };\n    /**\n     * Create a times array based on the provided 0-1 offsets\n     */\n    const absoluteTimes = convertOffsetToTimes(\n    // Only use the provided offsets if they're the correct length\n    // TODO Maybe we should warn here if there's a length mismatch\n    times && times.length === keyframeValues.length\n        ? times\n        : defaultOffset(keyframeValues), duration);\n    const mapTimeToKeyframe = interpolate(absoluteTimes, keyframeValues, {\n        ease: Array.isArray(easingFunctions)\n            ? easingFunctions\n            : defaultEasing(keyframeValues, easingFunctions),\n    });\n    return {\n        calculatedDuration: duration,\n        next: (t) => {\n            state.value = mapTimeToKeyframe(t);\n            state.done = t >= duration;\n            return state;\n        },\n    };\n}\n\nexport { defaultEasing, keyframes };\n","import { time } from '../../../frameloop/sync-time.mjs';\nimport { frame, cancelFrame, frameData } from '../../../frameloop/frame.mjs';\n\nconst frameloopDriver = (update) => {\n    const passTimestamp = ({ timestamp }) => update(timestamp);\n    return {\n        start: () => frame.update(passTimestamp, true),\n        stop: () => cancelFrame(passTimestamp),\n        /**\n         * If we're processing this frame we can use the\n         * framelocked timestamp to keep things in sync.\n         */\n        now: () => (frameData.isProcessing ? frameData.timestamp : time.now()),\n    };\n};\n\nexport { frameloopDriver };\n","import { invariant } from '../../../../../motion-utils/dist/es/errors.mjs';\nimport { millisecondsToSeconds, secondsToMilliseconds } from '../../../../../motion-utils/dist/es/time-conversion.mjs';\nimport { calcGeneratorDuration } from '../../../../../motion-dom/dist/es/animation/generators/utils/calc-duration.mjs';\nimport { isGenerator } from '../../../../../motion-dom/dist/es/animation/generators/utils/is-generator.mjs';\nimport { KeyframeResolver } from '../../render/utils/KeyframesResolver.mjs';\nimport { activeAnimations } from '../../stats/animation-count.mjs';\nimport { clamp } from '../../utils/clamp.mjs';\nimport { mix } from '../../utils/mix/index.mjs';\nimport { pipe } from '../../utils/pipe.mjs';\nimport { inertia } from '../generators/inertia.mjs';\nimport { keyframes } from '../generators/keyframes.mjs';\nimport { spring } from '../generators/spring/index.mjs';\nimport { BaseAnimation } from './BaseAnimation.mjs';\nimport { frameloopDriver } from './drivers/driver-frameloop.mjs';\nimport { getFinalKeyframe } from './waapi/utils/get-final-keyframe.mjs';\n\nconst generators = {\n    decay: inertia,\n    inertia,\n    tween: keyframes,\n    keyframes: keyframes,\n    spring,\n};\nconst percentToProgress = (percent) => percent / 100;\n/**\n * Animation that runs on the main thread. Designed to be WAAPI-spec in the subset of\n * features we expose publically. Mostly the compatibility is to ensure visual identity\n * between both WAAPI and main thread animations.\n */\nclass MainThreadAnimation extends BaseAnimation {\n    constructor(options) {\n        super(options);\n        /**\n         * The time at which the animation was paused.\n         */\n        this.holdTime = null;\n        /**\n         * The time at which the animation was cancelled.\n         */\n        this.cancelTime = null;\n        /**\n         * The current time of the animation.\n         */\n        this.currentTime = 0;\n        /**\n         * Playback speed as a factor. 0 would be stopped, -1 reverse and 2 double speed.\n         */\n        this.playbackSpeed = 1;\n        /**\n         * The state of the animation to apply when the animation is resolved. This\n         * allows calls to the public API to control the animation before it is resolved,\n         * without us having to resolve it first.\n         */\n        this.pendingPlayState = \"running\";\n        /**\n         * The time at which the animation was started.\n         */\n        this.startTime = null;\n        this.state = \"idle\";\n        /**\n         * This method is bound to the instance to fix a pattern where\n         * animation.stop is returned as a reference from a useEffect.\n         */\n        this.stop = () => {\n            this.resolver.cancel();\n            this.isStopped = true;\n            if (this.state === \"idle\")\n                return;\n            this.teardown();\n            const { onStop } = this.options;\n            onStop && onStop();\n        };\n        const { name, motionValue, element, keyframes } = this.options;\n        const KeyframeResolver$1 = (element === null || element === void 0 ? void 0 : element.KeyframeResolver) || KeyframeResolver;\n        const onResolved = (resolvedKeyframes, finalKeyframe) => this.onKeyframesResolved(resolvedKeyframes, finalKeyframe);\n        this.resolver = new KeyframeResolver$1(keyframes, onResolved, name, motionValue, element);\n        this.resolver.scheduleResolve();\n    }\n    flatten() {\n        super.flatten();\n        // If we've already resolved the animation, re-initialise it\n        if (this._resolved) {\n            Object.assign(this._resolved, this.initPlayback(this._resolved.keyframes));\n        }\n    }\n    initPlayback(keyframes$1) {\n        const { type = \"keyframes\", repeat = 0, repeatDelay = 0, repeatType, velocity = 0, } = this.options;\n        const generatorFactory = isGenerator(type)\n            ? type\n            : generators[type] || keyframes;\n        /**\n         * If our generator doesn't support mixing numbers, we need to replace keyframes with\n         * [0, 100] and then make a function that maps that to the actual keyframes.\n         *\n         * 100 is chosen instead of 1 as it works nicer with spring animations.\n         */\n        let mapPercentToKeyframes;\n        let mirroredGenerator;\n        if (generatorFactory !== keyframes &&\n            typeof keyframes$1[0] !== \"number\") {\n            if (process.env.NODE_ENV !== \"production\") {\n                invariant(keyframes$1.length === 2, `Only two keyframes currently supported with spring and inertia animations. Trying to animate ${keyframes$1}`);\n            }\n            mapPercentToKeyframes = pipe(percentToProgress, mix(keyframes$1[0], keyframes$1[1]));\n            keyframes$1 = [0, 100];\n        }\n        const generator = generatorFactory({ ...this.options, keyframes: keyframes$1 });\n        /**\n         * If we have a mirror repeat type we need to create a second generator that outputs the\n         * mirrored (not reversed) animation and later ping pong between the two generators.\n         */\n        if (repeatType === \"mirror\") {\n            mirroredGenerator = generatorFactory({\n                ...this.options,\n                keyframes: [...keyframes$1].reverse(),\n                velocity: -velocity,\n            });\n        }\n        /**\n         * If duration is undefined and we have repeat options,\n         * we need to calculate a duration from the generator.\n         *\n         * We set it to the generator itself to cache the duration.\n         * Any timeline resolver will need to have already precalculated\n         * the duration by this step.\n         */\n        if (generator.calculatedDuration === null) {\n            generator.calculatedDuration = calcGeneratorDuration(generator);\n        }\n        const { calculatedDuration } = generator;\n        const resolvedDuration = calculatedDuration + repeatDelay;\n        const totalDuration = resolvedDuration * (repeat + 1) - repeatDelay;\n        return {\n            generator,\n            mirroredGenerator,\n            mapPercentToKeyframes,\n            calculatedDuration,\n            resolvedDuration,\n            totalDuration,\n        };\n    }\n    onPostResolved() {\n        const { autoplay = true } = this.options;\n        activeAnimations.mainThread++;\n        this.play();\n        if (this.pendingPlayState === \"paused\" || !autoplay) {\n            this.pause();\n        }\n        else {\n            this.state = this.pendingPlayState;\n        }\n    }\n    tick(timestamp, sample = false) {\n        const { resolved } = this;\n        // If the animations has failed to resolve, return the final keyframe.\n        if (!resolved) {\n            const { keyframes } = this.options;\n            return { done: true, value: keyframes[keyframes.length - 1] };\n        }\n        const { finalKeyframe, generator, mirroredGenerator, mapPercentToKeyframes, keyframes, calculatedDuration, totalDuration, resolvedDuration, } = resolved;\n        if (this.startTime === null)\n            return generator.next(0);\n        const { delay, repeat, repeatType, repeatDelay, onUpdate } = this.options;\n        /**\n         * requestAnimationFrame timestamps can come through as lower than\n         * the startTime as set by performance.now(). Here we prevent this,\n         * though in the future it could be possible to make setting startTime\n         * a pending operation that gets resolved here.\n         */\n        if (this.speed > 0) {\n            this.startTime = Math.min(this.startTime, timestamp);\n        }\n        else if (this.speed < 0) {\n            this.startTime = Math.min(timestamp - totalDuration / this.speed, this.startTime);\n        }\n        // Update currentTime\n        if (sample) {\n            this.currentTime = timestamp;\n        }\n        else if (this.holdTime !== null) {\n            this.currentTime = this.holdTime;\n        }\n        else {\n            // Rounding the time because floating point arithmetic is not always accurate, e.g. 3000.367 - 1000.367 =\n            // 2000.0000000000002. This is a problem when we are comparing the currentTime with the duration, for\n            // example.\n            this.currentTime =\n                Math.round(timestamp - this.startTime) * this.speed;\n        }\n        // Rebase on delay\n        const timeWithoutDelay = this.currentTime - delay * (this.speed >= 0 ? 1 : -1);\n        const isInDelayPhase = this.speed >= 0\n            ? timeWithoutDelay < 0\n            : timeWithoutDelay > totalDuration;\n        this.currentTime = Math.max(timeWithoutDelay, 0);\n        // If this animation has finished, set the current time  to the total duration.\n        if (this.state === \"finished\" && this.holdTime === null) {\n            this.currentTime = totalDuration;\n        }\n        let elapsed = this.currentTime;\n        let frameGenerator = generator;\n        if (repeat) {\n            /**\n             * Get the current progress (0-1) of the animation. If t is >\n             * than duration we'll get values like 2.5 (midway through the\n             * third iteration)\n             */\n            const progress = Math.min(this.currentTime, totalDuration) / resolvedDuration;\n            /**\n             * Get the current iteration (0 indexed). For instance the floor of\n             * 2.5 is 2.\n             */\n            let currentIteration = Math.floor(progress);\n            /**\n             * Get the current progress of the iteration by taking the remainder\n             * so 2.5 is 0.5 through iteration 2\n             */\n            let iterationProgress = progress % 1.0;\n            /**\n             * If iteration progress is 1 we count that as the end\n             * of the previous iteration.\n             */\n            if (!iterationProgress && progress >= 1) {\n                iterationProgress = 1;\n            }\n            iterationProgress === 1 && currentIteration--;\n            currentIteration = Math.min(currentIteration, repeat + 1);\n            /**\n             * Reverse progress if we're not running in \"normal\" direction\n             */\n            const isOddIteration = Boolean(currentIteration % 2);\n            if (isOddIteration) {\n                if (repeatType === \"reverse\") {\n                    iterationProgress = 1 - iterationProgress;\n                    if (repeatDelay) {\n                        iterationProgress -= repeatDelay / resolvedDuration;\n                    }\n                }\n                else if (repeatType === \"mirror\") {\n                    frameGenerator = mirroredGenerator;\n                }\n            }\n            elapsed = clamp(0, 1, iterationProgress) * resolvedDuration;\n        }\n        /**\n         * If we're in negative time, set state as the initial keyframe.\n         * This prevents delay: x, duration: 0 animations from finishing\n         * instantly.\n         */\n        const state = isInDelayPhase\n            ? { done: false, value: keyframes[0] }\n            : frameGenerator.next(elapsed);\n        if (mapPercentToKeyframes) {\n            state.value = mapPercentToKeyframes(state.value);\n        }\n        let { done } = state;\n        if (!isInDelayPhase && calculatedDuration !== null) {\n            done =\n                this.speed >= 0\n                    ? this.currentTime >= totalDuration\n                    : this.currentTime <= 0;\n        }\n        const isAnimationFinished = this.holdTime === null &&\n            (this.state === \"finished\" || (this.state === \"running\" && done));\n        if (isAnimationFinished && finalKeyframe !== undefined) {\n            state.value = getFinalKeyframe(keyframes, this.options, finalKeyframe);\n        }\n        if (onUpdate) {\n            onUpdate(state.value);\n        }\n        if (isAnimationFinished) {\n            this.finish();\n        }\n        return state;\n    }\n    get duration() {\n        const { resolved } = this;\n        return resolved ? millisecondsToSeconds(resolved.calculatedDuration) : 0;\n    }\n    get time() {\n        return millisecondsToSeconds(this.currentTime);\n    }\n    set time(newTime) {\n        newTime = secondsToMilliseconds(newTime);\n        this.currentTime = newTime;\n        if (this.holdTime !== null || this.speed === 0) {\n            this.holdTime = newTime;\n        }\n        else if (this.driver) {\n            this.startTime = this.driver.now() - newTime / this.speed;\n        }\n    }\n    get speed() {\n        return this.playbackSpeed;\n    }\n    set speed(newSpeed) {\n        const hasChanged = this.playbackSpeed !== newSpeed;\n        this.playbackSpeed = newSpeed;\n        if (hasChanged) {\n            this.time = millisecondsToSeconds(this.currentTime);\n        }\n    }\n    play() {\n        if (!this.resolver.isScheduled) {\n            this.resolver.resume();\n        }\n        if (!this._resolved) {\n            this.pendingPlayState = \"running\";\n            return;\n        }\n        if (this.isStopped)\n            return;\n        const { driver = frameloopDriver, onPlay, startTime } = this.options;\n        if (!this.driver) {\n            this.driver = driver((timestamp) => this.tick(timestamp));\n        }\n        onPlay && onPlay();\n        const now = this.driver.now();\n        if (this.holdTime !== null) {\n            this.startTime = now - this.holdTime;\n        }\n        else if (!this.startTime) {\n            this.startTime = startTime !== null && startTime !== void 0 ? startTime : this.calcStartTime();\n        }\n        else if (this.state === \"finished\") {\n            this.startTime = now;\n        }\n        if (this.state === \"finished\") {\n            this.updateFinishedPromise();\n        }\n        this.cancelTime = this.startTime;\n        this.holdTime = null;\n        /**\n         * Set playState to running only after we've used it in\n         * the previous logic.\n         */\n        this.state = \"running\";\n        this.driver.start();\n    }\n    pause() {\n        var _a;\n        if (!this._resolved) {\n            this.pendingPlayState = \"paused\";\n            return;\n        }\n        this.state = \"paused\";\n        this.holdTime = (_a = this.currentTime) !== null && _a !== void 0 ? _a : 0;\n    }\n    complete() {\n        if (this.state !== \"running\") {\n            this.play();\n        }\n        this.pendingPlayState = this.state = \"finished\";\n        this.holdTime = null;\n    }\n    finish() {\n        this.teardown();\n        this.state = \"finished\";\n        const { onComplete } = this.options;\n        onComplete && onComplete();\n    }\n    cancel() {\n        if (this.cancelTime !== null) {\n            this.tick(this.cancelTime);\n        }\n        this.teardown();\n        this.updateFinishedPromise();\n    }\n    teardown() {\n        this.state = \"idle\";\n        this.stopDriver();\n        this.resolveFinishedPromise();\n        this.updateFinishedPromise();\n        this.startTime = this.cancelTime = null;\n        this.resolver.cancel();\n        activeAnimations.mainThread--;\n    }\n    stopDriver() {\n        if (!this.driver)\n            return;\n        this.driver.stop();\n        this.driver = undefined;\n    }\n    sample(time) {\n        this.startTime = 0;\n        return this.tick(time, true);\n    }\n}\n// Legacy interface\nfunction animateValue(options) {\n    return new MainThreadAnimation(options);\n}\n\nexport { MainThreadAnimation, animateValue };\n","function resolveElements(elementOrSelector, scope, selectorCache) {\n    var _a;\n    if (elementOrSelector instanceof Element) {\n        return [elementOrSelector];\n    }\n    else if (typeof elementOrSelector === \"string\") {\n        let root = document;\n        if (scope) {\n            // TODO: Refactor to utils package\n            // invariant(\n            //     Boolean(scope.current),\n            //     \"Scope provided, but no element detected.\"\n            // )\n            root = scope.current;\n        }\n        const elements = (_a = selectorCache === null || selectorCache === void 0 ? void 0 : selectorCache[elementOrSelector]) !== null && _a !== void 0 ? _a : root.querySelectorAll(elementOrSelector);\n        return elements ? Array.from(elements) : [];\n    }\n    return Array.from(elementOrSelector);\n}\n\nexport { resolveElements };\n","import { frame, cancelFrame } from '../../../frameloop/frame.mjs';\n\nfunction observeTimeline(update, timeline) {\n    let prevProgress;\n    const onFrame = () => {\n        const { currentTime } = timeline;\n        const percentage = currentTime === null ? 0 : currentTime.value;\n        const progress = percentage / 100;\n        if (prevProgress !== progress) {\n            update(progress);\n        }\n        prevProgress = progress;\n    };\n    frame.update(onFrame, true);\n    return () => cancelFrame(onFrame);\n}\n\nexport { observeTimeline };\n","import '../../../../../../motion-utils/dist/es/errors.mjs';\nimport { resolveElements } from '../../../../../../motion-dom/dist/es/utils/resolve-elements.mjs';\n\nconst resizeHandlers = new WeakMap();\nlet observer;\nfunction getElementSize(target, borderBoxSize) {\n    if (borderBoxSize) {\n        const { inlineSize, blockSize } = borderBoxSize[0];\n        return { width: inlineSize, height: blockSize };\n    }\n    else if (target instanceof SVGElement && \"getBBox\" in target) {\n        return target.getBBox();\n    }\n    else {\n        return {\n            width: target.offsetWidth,\n            height: target.offsetHeight,\n        };\n    }\n}\nfunction notifyTarget({ target, contentRect, borderBoxSize, }) {\n    var _a;\n    (_a = resizeHandlers.get(target)) === null || _a === void 0 ? void 0 : _a.forEach((handler) => {\n        handler({\n            target,\n            contentSize: contentRect,\n            get size() {\n                return getElementSize(target, borderBoxSize);\n            },\n        });\n    });\n}\nfunction notifyAll(entries) {\n    entries.forEach(notifyTarget);\n}\nfunction createResizeObserver() {\n    if (typeof ResizeObserver === \"undefined\")\n        return;\n    observer = new ResizeObserver(notifyAll);\n}\nfunction resizeElement(target, handler) {\n    if (!observer)\n        createResizeObserver();\n    const elements = resolveElements(target);\n    elements.forEach((element) => {\n        let elementHandlers = resizeHandlers.get(element);\n        if (!elementHandlers) {\n            elementHandlers = new Set();\n            resizeHandlers.set(element, elementHandlers);\n        }\n        elementHandlers.add(handler);\n        observer === null || observer === void 0 ? void 0 : observer.observe(element);\n    });\n    return () => {\n        elements.forEach((element) => {\n            const elementHandlers = resizeHandlers.get(element);\n            elementHandlers === null || elementHandlers === void 0 ? void 0 : elementHandlers.delete(handler);\n            if (!(elementHandlers === null || elementHandlers === void 0 ? void 0 : elementHandlers.size)) {\n                observer === null || observer === void 0 ? void 0 : observer.unobserve(element);\n            }\n        });\n    };\n}\n\nexport { resizeElement };\n","const windowCallbacks = new Set();\nlet windowResizeHandler;\nfunction createWindowResizeHandler() {\n    windowResizeHandler = () => {\n        const size = {\n            width: window.innerWidth,\n            height: window.innerHeight,\n        };\n        const info = {\n            target: window,\n            size,\n            contentSize: size,\n        };\n        windowCallbacks.forEach((callback) => callback(info));\n    };\n    window.addEventListener(\"resize\", windowResizeHandler);\n}\nfunction resizeWindow(callback) {\n    windowCallbacks.add(callback);\n    if (!windowResizeHandler)\n        createWindowResizeHandler();\n    return () => {\n        windowCallbacks.delete(callback);\n        if (!windowCallbacks.size && windowResizeHandler) {\n            windowResizeHandler = undefined;\n        }\n    };\n}\n\nexport { resizeWindow };\n","import { resizeElement } from './handle-element.mjs';\nimport { resizeWindow } from './handle-window.mjs';\n\nfunction resize(a, b) {\n    return typeof a === \"function\" ? resizeWindow(a) : resizeElement(a, b);\n}\n\nexport { resize };\n","import '../../../../../../motion-utils/dist/es/errors.mjs';\nimport { progress } from '../../../../../../motion-utils/dist/es/progress.mjs';\nimport { velocityPerSecond } from '../../../utils/velocity-per-second.mjs';\n\n/**\n * A time in milliseconds, beyond which we consider the scroll velocity to be 0.\n */\nconst maxElapsed = 50;\nconst createAxisInfo = () => ({\n    current: 0,\n    offset: [],\n    progress: 0,\n    scrollLength: 0,\n    targetOffset: 0,\n    targetLength: 0,\n    containerLength: 0,\n    velocity: 0,\n});\nconst createScrollInfo = () => ({\n    time: 0,\n    x: createAxisInfo(),\n    y: createAxisInfo(),\n});\nconst keys = {\n    x: {\n        length: \"Width\",\n        position: \"Left\",\n    },\n    y: {\n        length: \"Height\",\n        position: \"Top\",\n    },\n};\nfunction updateAxisInfo(element, axisName, info, time) {\n    const axis = info[axisName];\n    const { length, position } = keys[axisName];\n    const prev = axis.current;\n    const prevTime = info.time;\n    axis.current = element[`scroll${position}`];\n    axis.scrollLength = element[`scroll${length}`] - element[`client${length}`];\n    axis.offset.length = 0;\n    axis.offset[0] = 0;\n    axis.offset[1] = axis.scrollLength;\n    axis.progress = progress(0, axis.scrollLength, axis.current);\n    const elapsed = time - prevTime;\n    axis.velocity =\n        elapsed > maxElapsed\n            ? 0\n            : velocityPerSecond(axis.current - prev, elapsed);\n}\nfunction updateScrollInfo(element, info, time) {\n    updateAxisInfo(element, \"x\", info, time);\n    updateAxisInfo(element, \"y\", info, time);\n    info.time = time;\n}\n\nexport { createScrollInfo, updateScrollInfo };\n","function calcInset(element, container) {\n    const inset = { x: 0, y: 0 };\n    let current = element;\n    while (current && current !== container) {\n        if (current instanceof HTMLElement) {\n            inset.x += current.offsetLeft;\n            inset.y += current.offsetTop;\n            current = current.offsetParent;\n        }\n        else if (current.tagName === \"svg\") {\n            /**\n             * This isn't an ideal approach to measuring the offset of <svg /> tags.\n             * It would be preferable, given they behave like HTMLElements in most ways\n             * to use offsetLeft/Top. But these don't exist on <svg />. Likewise we\n             * can't use .getBBox() like most SVG elements as these provide the offset\n             * relative to the SVG itself, which for <svg /> is usually 0x0.\n             */\n            const svgBoundingBox = current.getBoundingClientRect();\n            current = current.parentElement;\n            const parentBoundingBox = current.getBoundingClientRect();\n            inset.x += svgBoundingBox.left - parentBoundingBox.left;\n            inset.y += svgBoundingBox.top - parentBoundingBox.top;\n        }\n        else if (current instanceof SVGGraphicsElement) {\n            const { x, y } = current.getBBox();\n            inset.x += x;\n            inset.y += y;\n            let svg = null;\n            let parent = current.parentNode;\n            while (!svg) {\n                if (parent.tagName === \"svg\") {\n                    svg = parent;\n                }\n                parent = current.parentNode;\n            }\n            current = svg;\n        }\n        else {\n            break;\n        }\n    }\n    return inset;\n}\n\nexport { calcInset };\n","const namedEdges = {\n    start: 0,\n    center: 0.5,\n    end: 1,\n};\nfunction resolveEdge(edge, length, inset = 0) {\n    let delta = 0;\n    /**\n     * If we have this edge defined as a preset, replace the definition\n     * with the numerical value.\n     */\n    if (edge in namedEdges) {\n        edge = namedEdges[edge];\n    }\n    /**\n     * Handle unit values\n     */\n    if (typeof edge === \"string\") {\n        const asNumber = parseFloat(edge);\n        if (edge.endsWith(\"px\")) {\n            delta = asNumber;\n        }\n        else if (edge.endsWith(\"%\")) {\n            edge = asNumber / 100;\n        }\n        else if (edge.endsWith(\"vw\")) {\n            delta = (asNumber / 100) * document.documentElement.clientWidth;\n        }\n        else if (edge.endsWith(\"vh\")) {\n            delta = (asNumber / 100) * document.documentElement.clientHeight;\n        }\n        else {\n            edge = asNumber;\n        }\n    }\n    /**\n     * If the edge is defined as a number, handle as a progress value.\n     */\n    if (typeof edge === \"number\") {\n        delta = length * edge;\n    }\n    return inset + delta;\n}\n\nexport { namedEdges, resolveEdge };\n","import { resolveEdge, namedEdges } from './edge.mjs';\n\nconst defaultOffset = [0, 0];\nfunction resolveOffset(offset, containerLength, targetLength, targetInset) {\n    let offsetDefinition = Array.isArray(offset) ? offset : defaultOffset;\n    let targetPoint = 0;\n    let containerPoint = 0;\n    if (typeof offset === \"number\") {\n        /**\n         * If we're provided offset: [0, 0.5, 1] then each number x should become\n         * [x, x], so we default to the behaviour of mapping 0 => 0 of both target\n         * and container etc.\n         */\n        offsetDefinition = [offset, offset];\n    }\n    else if (typeof offset === \"string\") {\n        offset = offset.trim();\n        if (offset.includes(\" \")) {\n            offsetDefinition = offset.split(\" \");\n        }\n        else {\n            /**\n             * If we're provided a definition like \"100px\" then we want to apply\n             * that only to the top of the target point, leaving the container at 0.\n             * Whereas a named offset like \"end\" should be applied to both.\n             */\n            offsetDefinition = [offset, namedEdges[offset] ? offset : `0`];\n        }\n    }\n    targetPoint = resolveEdge(offsetDefinition[0], targetLength, targetInset);\n    containerPoint = resolveEdge(offsetDefinition[1], containerLength);\n    return targetPoint - containerPoint;\n}\n\nexport { resolveOffset };\n","const ScrollOffset = {\n    Enter: [\n        [0, 1],\n        [1, 1],\n    ],\n    Exit: [\n        [0, 0],\n        [1, 0],\n    ],\n    Any: [\n        [1, 0],\n        [0, 1],\n    ],\n    All: [\n        [0, 0],\n        [1, 1],\n    ],\n};\n\nexport { ScrollOffset };\n","import { clamp } from '../../../../utils/clamp.mjs';\nimport { interpolate } from '../../../../utils/interpolate.mjs';\nimport { defaultOffset } from '../../../../utils/offsets/default.mjs';\nimport { calcInset } from './inset.mjs';\nimport { resolveOffset } from './offset.mjs';\nimport { ScrollOffset } from './presets.mjs';\n\nconst point = { x: 0, y: 0 };\nfunction getTargetSize(target) {\n    return \"getBBox\" in target && target.tagName !== \"svg\"\n        ? target.getBBox()\n        : { width: target.clientWidth, height: target.clientHeight };\n}\nfunction resolveOffsets(container, info, options) {\n    const { offset: offsetDefinition = ScrollOffset.All } = options;\n    const { target = container, axis = \"y\" } = options;\n    const lengthLabel = axis === \"y\" ? \"height\" : \"width\";\n    const inset = target !== container ? calcInset(target, container) : point;\n    /**\n     * Measure the target and container. If they're the same thing then we\n     * use the container's scrollWidth/Height as the target, from there\n     * all other calculations can remain the same.\n     */\n    const targetSize = target === container\n        ? { width: container.scrollWidth, height: container.scrollHeight }\n        : getTargetSize(target);\n    const containerSize = {\n        width: container.clientWidth,\n        height: container.clientHeight,\n    };\n    /**\n     * Reset the length of the resolved offset array rather than creating a new one.\n     * TODO: More reusable data structures for targetSize/containerSize would also be good.\n     */\n    info[axis].offset.length = 0;\n    /**\n     * Populate the offset array by resolving the user's offset definition into\n     * a list of pixel scroll offets.\n     */\n    let hasChanged = !info[axis].interpolate;\n    const numOffsets = offsetDefinition.length;\n    for (let i = 0; i < numOffsets; i++) {\n        const offset = resolveOffset(offsetDefinition[i], containerSize[lengthLabel], targetSize[lengthLabel], inset[axis]);\n        if (!hasChanged && offset !== info[axis].interpolatorOffsets[i]) {\n            hasChanged = true;\n        }\n        info[axis].offset[i] = offset;\n    }\n    /**\n     * If the pixel scroll offsets have changed, create a new interpolator function\n     * to map scroll value into a progress.\n     */\n    if (hasChanged) {\n        info[axis].interpolate = interpolate(info[axis].offset, defaultOffset(offsetDefinition), { clamp: false });\n        info[axis].interpolatorOffsets = [...info[axis].offset];\n    }\n    info[axis].progress = clamp(0, 1, info[axis].interpolate(info[axis].current));\n}\n\nexport { resolveOffsets };\n","import { warnOnce } from '../../../utils/warn-once.mjs';\nimport { updateScrollInfo } from './info.mjs';\nimport { resolveOffsets } from './offsets/index.mjs';\n\nfunction measure(container, target = container, info) {\n    /**\n     * Find inset of target within scrollable container\n     */\n    info.x.targetOffset = 0;\n    info.y.targetOffset = 0;\n    if (target !== container) {\n        let node = target;\n        while (node && node !== container) {\n            info.x.targetOffset += node.offsetLeft;\n            info.y.targetOffset += node.offsetTop;\n            node = node.offsetParent;\n        }\n    }\n    info.x.targetLength =\n        target === container ? target.scrollWidth : target.clientWidth;\n    info.y.targetLength =\n        target === container ? target.scrollHeight : target.clientHeight;\n    info.x.containerLength = container.clientWidth;\n    info.y.containerLength = container.clientHeight;\n    /**\n     * In development mode ensure scroll containers aren't position: static as this makes\n     * it difficult to measure their relative positions.\n     */\n    if (process.env.NODE_ENV !== \"production\") {\n        if (container && target && target !== container) {\n            warnOnce(getComputedStyle(container).position !== \"static\", \"Please ensure that the container has a non-static position, like 'relative', 'fixed', or 'absolute' to ensure scroll offset is calculated correctly.\");\n        }\n    }\n}\nfunction createOnScrollHandler(element, onScroll, info, options = {}) {\n    return {\n        measure: () => measure(element, options.target, info),\n        update: (time) => {\n            updateScrollInfo(element, info, time);\n            if (options.offset || options.target) {\n                resolveOffsets(element, info, options);\n            }\n        },\n        notify: () => onScroll(info),\n    };\n}\n\nexport { createOnScrollHandler };\n","import { resize } from '../resize/index.mjs';\nimport { createScrollInfo } from './info.mjs';\nimport { createOnScrollHandler } from './on-scroll-handler.mjs';\nimport { frame, cancelFrame, frameData } from '../../../frameloop/frame.mjs';\n\nconst scrollListeners = new WeakMap();\nconst resizeListeners = new WeakMap();\nconst onScrollHandlers = new WeakMap();\nconst getEventTarget = (element) => element === document.documentElement ? window : element;\nfunction scrollInfo(onScroll, { container = document.documentElement, ...options } = {}) {\n    let containerHandlers = onScrollHandlers.get(container);\n    /**\n     * Get the onScroll handlers for this container.\n     * If one isn't found, create a new one.\n     */\n    if (!containerHandlers) {\n        containerHandlers = new Set();\n        onScrollHandlers.set(container, containerHandlers);\n    }\n    /**\n     * Create a new onScroll handler for the provided callback.\n     */\n    const info = createScrollInfo();\n    const containerHandler = createOnScrollHandler(container, onScroll, info, options);\n    containerHandlers.add(containerHandler);\n    /**\n     * Check if there's a scroll event listener for this container.\n     * If not, create one.\n     */\n    if (!scrollListeners.has(container)) {\n        const measureAll = () => {\n            for (const handler of containerHandlers)\n                handler.measure();\n        };\n        const updateAll = () => {\n            for (const handler of containerHandlers) {\n                handler.update(frameData.timestamp);\n            }\n        };\n        const notifyAll = () => {\n            for (const handler of containerHandlers)\n                handler.notify();\n        };\n        const listener = () => {\n            frame.read(measureAll, false, true);\n            frame.read(updateAll, false, true);\n            frame.update(notifyAll, false, true);\n        };\n        scrollListeners.set(container, listener);\n        const target = getEventTarget(container);\n        window.addEventListener(\"resize\", listener, { passive: true });\n        if (container !== document.documentElement) {\n            resizeListeners.set(container, resize(container, listener));\n        }\n        target.addEventListener(\"scroll\", listener, { passive: true });\n    }\n    const listener = scrollListeners.get(container);\n    frame.read(listener, false, true);\n    return () => {\n        var _a;\n        cancelFrame(listener);\n        /**\n         * Check if we even have any handlers for this container.\n         */\n        const currentHandlers = onScrollHandlers.get(container);\n        if (!currentHandlers)\n            return;\n        currentHandlers.delete(containerHandler);\n        if (currentHandlers.size)\n            return;\n        /**\n         * If no more handlers, remove the scroll listener too.\n         */\n        const scrollListener = scrollListeners.get(container);\n        scrollListeners.delete(container);\n        if (scrollListener) {\n            getEventTarget(container).removeEventListener(\"scroll\", scrollListener);\n            (_a = resizeListeners.get(container)) === null || _a === void 0 ? void 0 : _a();\n            window.removeEventListener(\"resize\", scrollListener);\n        }\n    };\n}\n\nexport { scrollInfo };\n","import { supportsScrollTimeline } from '../../../../../../motion-dom/dist/es/utils/supports/scroll-timeline.mjs';\nimport '../../../../../../motion-utils/dist/es/errors.mjs';\nimport { noop } from '../../../../../../motion-utils/dist/es/noop.mjs';\nimport { observeTimeline } from './observe.mjs';\nimport { scrollInfo } from './track.mjs';\n\nfunction scrollTimelineFallback({ source, container, axis = \"y\", }) {\n    // Support legacy source argument. Deprecate later.\n    if (source)\n        container = source;\n    // ScrollTimeline records progress as a percentage CSSUnitValue\n    const currentTime = { value: 0 };\n    const cancel = scrollInfo((info) => {\n        currentTime.value = info[axis].progress * 100;\n    }, { container, axis });\n    return { currentTime, cancel };\n}\nconst timelineCache = new Map();\nfunction getTimeline({ source, container = document.documentElement, axis = \"y\", } = {}) {\n    // Support legacy source argument. Deprecate later.\n    if (source)\n        container = source;\n    if (!timelineCache.has(container)) {\n        timelineCache.set(container, {});\n    }\n    const elementCache = timelineCache.get(container);\n    if (!elementCache[axis]) {\n        elementCache[axis] = supportsScrollTimeline()\n            ? new ScrollTimeline({ source: container, axis })\n            : scrollTimelineFallback({ source: container, axis });\n    }\n    return elementCache[axis];\n}\n/**\n * If the onScroll function has two arguments, it's expecting\n * more specific information about the scroll from scrollInfo.\n */\nfunction isOnScrollWithInfo(onScroll) {\n    return onScroll.length === 2;\n}\n/**\n * Currently, we only support element tracking with `scrollInfo`, though in\n * the future we can also offer ViewTimeline support.\n */\nfunction needsElementTracking(options) {\n    return options && (options.target || options.offset);\n}\nfunction scrollFunction(onScroll, options) {\n    if (isOnScrollWithInfo(onScroll) || needsElementTracking(options)) {\n        return scrollInfo((info) => {\n            onScroll(info[options.axis].progress, info);\n        }, options);\n    }\n    else {\n        return observeTimeline(onScroll, getTimeline(options));\n    }\n}\nfunction scrollAnimation(animation, options) {\n    animation.flatten();\n    if (needsElementTracking(options)) {\n        animation.pause();\n        return scrollInfo((info) => {\n            animation.time = animation.duration * info[options.axis].progress;\n        }, options);\n    }\n    else {\n        const timeline = getTimeline(options);\n        if (animation.attachTimeline) {\n            return animation.attachTimeline(timeline, (valueAnimation) => {\n                valueAnimation.pause();\n                return observeTimeline((progress) => {\n                    valueAnimation.time = valueAnimation.duration * progress;\n                }, timeline);\n            });\n        }\n        else {\n            return noop;\n        }\n    }\n}\nfunction scroll(onScroll, { axis = \"y\", ...options } = {}) {\n    const optionsWithDefaults = { axis, ...options };\n    return typeof onScroll === \"function\"\n        ? scrollFunction(onScroll, optionsWithDefaults)\n        : scrollAnimation(onScroll, optionsWithDefaults);\n}\n\nexport { scroll };\n","import { motionValue } from './index.mjs';\nimport { useConstant } from '../utils/use-constant.mjs';\nimport { useEffect } from 'react';\nimport { warning } from '../../../../motion-utils/dist/es/errors.mjs';\nimport { scroll } from '../render/dom/scroll/index.mjs';\nimport { useIsomorphicLayoutEffect } from '../utils/use-isomorphic-effect.mjs';\n\nfunction refWarning(name, ref) {\n    warning(Boolean(!ref || ref.current), `You have defined a ${name} options but the provided ref is not yet hydrated, probably because it's defined higher up the tree. Try calling useScroll() in the same component as the ref, or setting its \\`layoutEffect: false\\` option.`);\n}\nconst createScrollMotionValues = () => ({\n    scrollX: motionValue(0),\n    scrollY: motionValue(0),\n    scrollXProgress: motionValue(0),\n    scrollYProgress: motionValue(0),\n});\nfunction useScroll({ container, target, layoutEffect = true, ...options } = {}) {\n    const values = useConstant(createScrollMotionValues);\n    const useLifecycleEffect = layoutEffect\n        ? useIsomorphicLayoutEffect\n        : useEffect;\n    useLifecycleEffect(() => {\n        refWarning(\"target\", target);\n        refWarning(\"container\", container);\n        return scroll((_progress, { x, y }) => {\n            values.scrollX.set(x.current);\n            values.scrollXProgress.set(x.progress);\n            values.scrollY.set(y.current);\n            values.scrollYProgress.set(y.progress);\n        }, {\n            ...options,\n            container: (container === null || container === void 0 ? void 0 : container.current) || undefined,\n            target: (target === null || target === void 0 ? void 0 : target.current) || undefined,\n        });\n    }, [container, target, JSON.stringify(options.offset)]);\n    return values;\n}\n\nexport { useScroll };\n","import { useContext, useState, useEffect } from 'react';\nimport { motionValue } from './index.mjs';\nimport { MotionConfigContext } from '../context/MotionConfigContext.mjs';\nimport { useConstant } from '../utils/use-constant.mjs';\n\n/**\n * Creates a `MotionValue` to track the state and velocity of a value.\n *\n * Usually, these are created automatically. For advanced use-cases, like use with `useTransform`, you can create `MotionValue`s externally and pass them into the animated component via the `style` prop.\n *\n * ```jsx\n * export const MyComponent = () => {\n *   const scale = useMotionValue(1)\n *\n *   return <motion.div style={{ scale }} />\n * }\n * ```\n *\n * @param initial - The initial state.\n *\n * @public\n */\nfunction useMotionValue(initial) {\n    const value = useConstant(() => motionValue(initial));\n    /**\n     * If this motion value is being used in static mode, like on\n     * the Framer canvas, force components to rerender when the motion\n     * value is updated.\n     */\n    const { isStatic } = useContext(MotionConfigContext);\n    if (isStatic) {\n        const [, setLatest] = useState(initial);\n        useEffect(() => value.on(\"change\", setLatest), []);\n    }\n    return value;\n}\n\nexport { useMotionValue };\n","import '../../../../motion-utils/dist/es/errors.mjs';\nimport { noop } from '../../../../motion-utils/dist/es/noop.mjs';\nimport { useContext, useRef, useInsertionEffect } from 'react';\nimport { animateValue } from '../animation/animators/MainThreadAnimation.mjs';\nimport { MotionConfigContext } from '../context/MotionConfigContext.mjs';\nimport { useConstant } from '../utils/use-constant.mjs';\nimport { useIsomorphicLayoutEffect } from '../utils/use-isomorphic-effect.mjs';\nimport { useMotionValue } from './use-motion-value.mjs';\nimport { isMotionValue } from './utils/is-motion-value.mjs';\nimport { frame } from '../frameloop/frame.mjs';\n\nfunction useSpring(source, config = {}) {\n    const { isStatic } = useContext(MotionConfigContext);\n    const activeSpringAnimation = useRef(null);\n    const initialValue = useConstant(() => isMotionValue(source) ? source.get() : source);\n    const unit = useConstant(() => typeof initialValue === \"string\"\n        ? initialValue.replace(/[\\d.-]/g, \"\")\n        : undefined);\n    const value = useMotionValue(initialValue);\n    const latestValue = useRef(initialValue);\n    const latestSetter = useRef(noop);\n    const startAnimation = () => {\n        stopAnimation();\n        activeSpringAnimation.current = animateValue({\n            keyframes: [asNumber(value.get()), asNumber(latestValue.current)],\n            velocity: value.getVelocity(),\n            type: \"spring\",\n            restDelta: 0.001,\n            restSpeed: 0.01,\n            ...config,\n            onUpdate: latestSetter.current,\n        });\n    };\n    const stopAnimation = () => {\n        if (activeSpringAnimation.current) {\n            activeSpringAnimation.current.stop();\n        }\n    };\n    useInsertionEffect(() => {\n        return value.attach((v, set) => {\n            if (isStatic)\n                return set(v);\n            latestValue.current = v;\n            latestSetter.current = (latest) => set(parseValue(latest, unit));\n            frame.postRender(startAnimation);\n            return value.get();\n        }, stopAnimation);\n    }, [JSON.stringify(config)]);\n    useIsomorphicLayoutEffect(() => {\n        if (isMotionValue(source)) {\n            return source.on(\"change\", (v) => value.set(parseValue(v, unit)));\n        }\n    }, [value, unit]);\n    return value;\n}\nfunction parseValue(v, unit) {\n    return unit ? v + unit : v;\n}\nfunction asNumber(v) {\n    return typeof v === \"number\" ? v : parseFloat(v);\n}\n\nexport { useSpring };\n","import { useRef, useContext, useEffect } from 'react';\nimport { MotionConfigContext } from '../context/MotionConfigContext.mjs';\nimport { frame, cancelFrame } from '../frameloop/frame.mjs';\n\nfunction useAnimationFrame(callback) {\n    const initialTimestamp = useRef(0);\n    const { isStatic } = useContext(MotionConfigContext);\n    useEffect(() => {\n        if (isStatic)\n            return;\n        const provideTimeSinceStart = ({ timestamp, delta }) => {\n            if (!initialTimestamp.current)\n                initialTimestamp.current = timestamp;\n            callback(timestamp - initialTimestamp.current, delta);\n        };\n        frame.update(provideTimeSinceStart, true);\n        return () => cancelFrame(provideTimeSinceStart);\n    }, [callback]);\n}\n\nexport { useAnimationFrame };\n","'use client';\nimport { useAnimationFrame, useScroll, useSpring } from 'motion/react';\nimport { useRef, useState, useEffect } from 'react';\nimport { lerp, clamp } from '@threeaio/utils/math';\n\ntype SupportedEdgeUnit = 'px' | 'vw' | 'vh' | '%';\ntype EdgeUnit = `${number}${SupportedEdgeUnit}`;\ntype NamedEdges = 'start' | 'end' | 'center';\ntype EdgeString = NamedEdges | EdgeUnit | `${number}`;\ntype Edge = EdgeString | number;\ntype ProgressIntersection = [number, number];\ntype Intersection = `${Edge} ${Edge}`;\ntype ScrollOffset = Array<Edge | Intersection | ProgressIntersection>;\n\n/**\n * Bezier config is a tuple of 3 numbers\n * [y-coordinate, x-offset, y-offset]\n * y-coordinate: The y coordinate of the source\n * x-offset: The horizontal shift of the control point from the source\n * y-offset: The vertical shift from the control point from the source\n */\ntype BezierConfig = [number, number, number]; // [y-coordinate, x-offset, y-offset]\n\nexport interface WaveConfig {\n    left: BezierConfig;\n    right: BezierConfig;\n}\n\nexport interface WaveAnimation {\n    featheredOut?: 'top' | 'bottom' | 'both';\n    strokeStyle?: string;\n    strokeWidth?: number;\n    fill: string;\n    configs: WaveConfig[];\n    scrollOffset?: ScrollOffset;\n    curveAmount?: number;\n    offsetLeft?: number;\n    offsetRight?: number;\n    flip?: boolean;\n    debug?: boolean;\n}\n\nconst defaultCurveConfig: WaveAnimation = {\n    strokeStyle: '#fff',\n    strokeWidth: 0.4,\n    fill: 'rgba(0,0,0,0.1)',\n    configs: [\n        {\n            right: [0.2, 0.9, -0.8],\n            left: [0.7, 0.6, 0.9],\n        },\n        {\n            right: [0.2, 0.9, -0.5],\n            left: [0.7, 0.6, 0.6],\n        },\n        {\n            right: [0.2, 0.9, -0.2],\n            left: [0.7, 0.6, 0.3],\n        },\n    ],\n    scrollOffset: ['end end', 'start start'],\n};\n\nfunction catmullRom(p0: number, p1: number, p2: number, p3: number, t: number): number {\n    const t2 = t * t;\n    const t3 = t2 * t;\n\n    return (\n        (-t3 + 2 * t2 - t) * p0 * 0.5 +\n        (3 * t3 - 5 * t2 + 2) * p1 * 0.5 +\n        (-3 * t3 + 4 * t2 + t) * p2 * 0.5 +\n        (t3 - t2) * p3 * 0.5\n    );\n}\n\nfunction interpolateSequence(points: number[], t: number): number {\n    if (points.length === 0) return 0;\n    if (points.length === 1) return points[0];\n\n    // Clamp t to [0, 1]\n    t = clamp(0, 1, t);\n\n    // For t = 1, return the last point\n    if (t === 1) return points[points.length - 1];\n\n    // Extend points array with better boundary handling\n    const extendedPoints = [\n        points[0], // First control point\n        ...points, // Original points\n        points[points.length - 1], // Last control point\n    ];\n\n    // Calculate segment index\n    const segments = points.length - 1;\n    const segmentT = t * segments;\n    const segment = Math.floor(segmentT);\n    const localT = segmentT - segment;\n\n    // Get the four points needed for interpolation\n    const p0 = extendedPoints[segment];\n    const p1 = extendedPoints[segment + 1];\n    const p2 = extendedPoints[segment + 2];\n    const p3 = extendedPoints[Math.min(segment + 3, extendedPoints.length - 1)];\n\n    return catmullRom(p0, p1, p2, p3, localT);\n}\n\nfunction interpolateBezierConfig(configs: BezierConfig[], t: number): BezierConfig {\n    // Extract individual components into separate arrays\n    const yCoords = configs.map((c) => c[0]);\n    const xOffsets = configs.map((c) => c[1]);\n    const yOffsets = configs.map((c) => c[2]);\n\n    // Interpolate each component separately\n    return [interpolateSequence(yCoords, t), interpolateSequence(xOffsets, t), interpolateSequence(yOffsets, t)];\n}\n\nfunction interpolateWaveConfig(configs: WaveConfig[], t: number): WaveConfig {\n    // Extract left and right configs separately\n    const leftConfigs = configs.map((c) => c.left);\n    const rightConfigs = configs.map((c) => c.right);\n\n    return {\n        left: interpolateBezierConfig(leftConfigs, t),\n        right: interpolateBezierConfig(rightConfigs, t),\n    };\n}\n\nfunction lerpBezier(start: BezierConfig, end: BezierConfig, t: number): BezierConfig {\n    return [lerp(start[0], end[0], t), lerp(start[1], end[1], t), lerp(start[2], end[2], t)];\n}\n\nfunction lerpBeziers(start: WaveConfig, end: WaveConfig, t: number): WaveConfig {\n    try {\n        return {\n            left: lerpBezier(start.left, end.left, t),\n            right: lerpBezier(start.right, end.right, t),\n        };\n    } catch (error) {\n        console.error(error, start, end, t);\n        return start;\n    }\n}\n\nfunction drawWavePath(\n    ctx: CanvasRenderingContext2D,\n    config: WaveConfig,\n    curveAmount = 1,\n    lineOffsetLeft = 0,\n    lineOffsetRight = 0,\n    width: number,\n    height: number,\n    flip = false,\n) {\n    // Draw main wave\n    const leftX = 0;\n    const leftY = flip ? height - config.left[0] * height : config.left[0] * height;\n    const leftXOffset = config.left[1] * width;\n    const leftYOffset = config.left[2] * height;\n    const rightX = width;\n    const rightY = flip ? height - config.right[0] * height : config.right[0] * height;\n    const rightXOffset = config.right[1] * width;\n    const rightYOffset = config.right[2] * height;\n\n    ctx.beginPath();\n    ctx.moveTo(leftX, flip ? height : 0);\n    ctx.lineTo(rightX, flip ? height : 0);\n    ctx.lineTo(rightX, rightY);\n\n    // Main curve\n    ctx.bezierCurveTo(\n        rightX - rightXOffset,\n        rightY + rightYOffset,\n        leftX + leftXOffset,\n        leftY + leftYOffset,\n        leftX,\n        leftY,\n    );\n    ctx.closePath();\n    ctx.fill();\n\n    // Draw decorative curves\n    for (let i = 0; i < curveAmount; i++) {\n        const offset = i + 1;\n        ctx.beginPath();\n        ctx.moveTo(rightX, rightY + lineOffsetRight * offset);\n        ctx.bezierCurveTo(\n            rightX - rightXOffset,\n            rightY + rightYOffset + lineOffsetRight * offset,\n            leftX + leftXOffset,\n            leftY + leftYOffset + lineOffsetLeft * offset,\n            leftX,\n            leftY + lineOffsetLeft * offset,\n        );\n        ctx.stroke();\n    }\n}\n\nexport default function Wave({ waveConfig: curveConfig = defaultCurveConfig }: { waveConfig?: WaveAnimation }) {\n    const containerRef = useRef<HTMLDivElement>(null);\n    const canvasRef = useRef<HTMLCanvasElement>(null);\n\n    const { scrollYProgress } = useScroll({\n        target: containerRef,\n        offset: curveConfig.scrollOffset,\n    });\n\n    const smoothProgress = useSpring(scrollYProgress, { damping: 80, mass: 0.27, stiffness: 250 });\n\n    const [dpr, setDpr] = useState(1);\n\n    useEffect(() => {\n        setDpr(window.devicePixelRatio || 1);\n    }, []);\n\n    useEffect(() => {\n        const handleResize = () => {\n            const canvas = canvasRef.current;\n            // const overlayCanvas = overlayCanvasRef.current;\n            const container = containerRef.current;\n            if (!canvas || !container) return;\n\n            const width = container.clientWidth;\n            const height = container.clientHeight;\n\n            // Set display size\n            canvas.style.width = `${width}px`;\n            canvas.style.height = `${height}px`;\n\n            // Set actual size in memory\n            canvas.width = width * dpr;\n            canvas.height = height * dpr;\n        };\n\n        handleResize();\n        window.addEventListener('resize', handleResize);\n        return () => window.removeEventListener('resize', handleResize);\n    }, [dpr]);\n\n    const drawWave = (canvas: HTMLCanvasElement | null, config: WaveConfig, fillStyle: string) => {\n        if (!canvas) return;\n        const ctx = canvas.getContext('2d');\n        if (!ctx) return;\n\n        // Reset transformation to ensure no accumulation from previous frames.\n        ctx.setTransform(1, 0, 0, 1, 0, 0);\n\n        // Clear the entire canvas using its full size in device pixels.\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n        // Apply scaling for HiDPI rendering.\n        ctx.scale(dpr, dpr);\n\n        // Set styles for drawing.\n        ctx.fillStyle = fillStyle;\n        ctx.strokeStyle = curveConfig.strokeStyle ?? defaultCurveConfig.strokeStyle!;\n        ctx.lineWidth = curveConfig.strokeWidth ?? defaultCurveConfig.strokeWidth!;\n        // ctx.setLineDash([4, 8]);\n\n        drawWavePath(\n            ctx,\n            config,\n            curveConfig.curveAmount ?? 1,\n            curveConfig.offsetLeft ?? 0,\n            curveConfig.offsetRight ?? 0,\n            canvas.width / dpr,\n            canvas.height / dpr,\n            curveConfig.flip ?? false,\n        );\n    };\n\n    const drawDebug = (canvas: HTMLCanvasElement, scrollProgress: number) => {\n        const ctx = canvas.getContext('2d');\n        if (!ctx) return;\n        ctx.font = '12px monospace';\n        ctx.fillStyle = '#f00';\n        ctx.fillText(\n            scrollProgress.toFixed(3),\n            canvas.width / dpr - 50,\n            clamp(20, canvas.height / dpr, (scrollProgress * canvas.height) / dpr),\n        );\n    };\n\n    // Modified animation frame handling\n    useAnimationFrame(() => {\n        const sp = clamp(0, 1, smoothProgress.get());\n        const configCount = curveConfig.configs.length;\n\n        const targetConfig = (() => {\n            // Handle special cases\n            if (configCount <= 1) return curveConfig.configs[0];\n            if (configCount === 2) return lerpBeziers(curveConfig.configs[0], curveConfig.configs[1], sp);\n\n            // Use Catmull-Rom interpolation for 3+ configs\n            return interpolateWaveConfig(curveConfig.configs, sp);\n        })();\n\n        drawWave(canvasRef.current, targetConfig, curveConfig.fill ?? defaultCurveConfig.fill!);\n\n        // Draw debug info if enabled\n        if (curveConfig.debug && canvasRef.current) {\n            drawDebug(canvasRef.current, sp);\n        }\n    });\n\n    return (\n        <div className=\"absolute inset-0\" ref={containerRef}>\n            <div\n                className=\"absolute inset-0\"\n                style={{\n                    mask:\n                        curveConfig.featheredOut === 'top'\n                            ? 'linear-gradient(rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 1) 40%)'\n                            : curveConfig.featheredOut === 'bottom'\n                              ? 'linear-gradient(rgba(0, 0, 0, 1) 60%, rgba(0, 0, 0, 0) 100%)'\n                              : curveConfig.featheredOut === 'both'\n                                ? 'linear-gradient(rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 1) 20%, rgba(0, 0, 0, 1) 80%, rgba(0, 0, 0, 0) 100%)'\n                                : undefined,\n                }}\n            >\n                <canvas ref={canvasRef} className=\"size-full\" />\n            </div>\n        </div>\n    );\n}\n"]}